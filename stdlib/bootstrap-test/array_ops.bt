// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// Bootstrap-level smoke tests for the Array type (BT-822).
// Tests literal syntax, basic access, and core operations.

// ===========================================================================
// ARRAY LITERALS
// ===========================================================================

// Empty array literal
#[]
// => #[]

// Single-element array
#[42]
// => #[42]

// Multi-element array
#[1, 2, 3]
// => #[1, 2, 3]

// String elements (printed with quotes as developer representation)
#["a", "b", "c"]
// => #["a", "b", "c"]

// ===========================================================================
// SIZE AND IS_EMPTY
// ===========================================================================

#[] size
// => 0

#[1, 2, 3] size
// => 3

#[] isEmpty
// => true

#[1] isEmpty
// => false

// ===========================================================================
// AT: (INDEXED ACCESS)
// ===========================================================================

#[10, 20, 30] at: 1
// => 10

#[10, 20, 30] at: 2
// => 20

#[10, 20, 30] at: 3
// => 30

// ===========================================================================
// AT:PUT: (FUNCTIONAL UPDATE)
// ===========================================================================

#[1, 2, 3] at: 2 put: 99
// => #[1, 99, 3]

// Original is unchanged
a := #[1, 2, 3]
// => #[1, 2, 3]

a at: 1 put: 10
// => #[10, 2, 3]

a
// => #[1, 2, 3]

// ===========================================================================
// INCLUDES:
// ===========================================================================

#[1, 2, 3] includes: 2
// => true

#[1, 2, 3] includes: 9
// => false

// ===========================================================================
// DO:
// ===========================================================================

#[1, 2, 3] do: [:x | x + 1]
// => nil

// ===========================================================================
// COLLECT:
// ===========================================================================

#[1, 2, 3] collect: [:x | x * 2]
// => #[2, 4, 6]

#[] collect: [:x | x * 2]
// => #[]

// ===========================================================================
// SELECT:
// ===========================================================================

#[1, 2, 3, 4] select: [:x | x > 2]
// => #[3, 4]

#[1, 2, 3] select: [:x | x > 10]
// => #[]

// ===========================================================================
// INJECT:INTO:
// ===========================================================================

#[1, 2, 3] inject: 0 into: [:acc :x | acc + x]
// => 6

#[1, 2, 3, 4] inject: 1 into: [:acc :x | acc * x]
// => 24

// ===========================================================================
// PRINT_STRING
// ===========================================================================

#[1, 2, 3] printString
// => #[1, 2, 3]

#[] printString
// => #[]

// ===========================================================================
// CLASS
// ===========================================================================

#[1, 2, 3] class
// => Array
