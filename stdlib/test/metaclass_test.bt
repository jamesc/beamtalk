// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// BT-412: Virtual metaclass tests

TestCase subclass: MetaclassTest

  testSection1 =>
    self assert: (42 class) equals: Integer.
    self assert: (3.14 class) equals: Float.
    self assert: ("hello" class) equals: String.
    self assert: (true class) equals: True.
    self assert: (false class) equals: False.
    self assert: (nil class) equals: UndefinedObject.
    self assert: (#symbol class) equals: Symbol.
    // BT-802 (ADR 0036 Phase 1): Metaclass objects replace the #Metaclass sentinel
    self assert: (42 class class) isMeta equals: true.
    self assert: ("hello" class class) isMeta equals: true.
    self assert: (true class class) isMeta equals: true.
    // Metaclass objects are not plain classes
    self assert: (42 class class) isClass equals: false.
    // Metaclass tower terminates: self-grounding invariant (class class class == class class)
    self assert: (42 class class class) equals: (42 class class)
