// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// RecursiveActor - Actor with recursive methods for testing BT-330
// Actor self-sends use synchronous direct dispatch (BT-330 fix)

Actor subclass: RecursiveActor
  state: result = 0

  // Recursive keyword method: factorial
  factorial: n => (n <= 1) ifTrue: [1] ifFalse: [n * (self factorial: n - 1)]

  // Double-recursive keyword method: fibonacci
  fibonacci: n => (n <= 1) ifTrue: [n] ifFalse: [(self fibonacci: n - 1) + (self fibonacci: n - 2)]

  // Self-send to different method (non-recursive)
  double: n => n * 2
  quadruple: n => (self double: n) * 2
