// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// BT-488: Singleton class variable tests (ADR 0019 Phase 1)

TestCase subclass: ClassVariablesSingletonTest

  testSection1 =>
    self assert: (SystemDictionary current) equals: nil.
    // TranscriptStream has current accessor
    self assert: (TranscriptStream current) equals: nil.
    // WorkspaceEnvironment has current accessor
    self assert: (WorkspaceEnvironment current) equals: nil.
    // Class-side current: setter works (set and read back)
    SystemDictionary current: 42.
    self assert: (SystemDictionary current) equals: 42.
    // Reset back to nil
    SystemDictionary current: nil.
    self assert: (SystemDictionary current) equals: nil.
    // TranscriptStream setter
    TranscriptStream current: 99.
    self assert: (TranscriptStream current) equals: 99.
    // WorkspaceEnvironment setter
    WorkspaceEnvironment current: 7.
    self assert: (WorkspaceEnvironment current) equals: 7
