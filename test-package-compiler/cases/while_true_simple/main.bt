// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// Simple whileTrue test with local variable mutation

test := [
    count := 0.
    [count < 3] whileTrue: [count := count + 1].
    ^count
].

// Test without module-level field
testLocal := [
    x := 0.
    [x < 5] whileTrue: [x := x + 1].
    ^x
].

// Test mutating a block parameter (BT-142 PR review fix)
testBlockParam := [
    result := [:x | 
        [x < 5] whileTrue: [x := x + 1].
        x
    ] value: 0.
    ^result
].
