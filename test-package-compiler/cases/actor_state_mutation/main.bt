// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// Test actor state mutation with proper state threading
//
// Each assignment to self.field should update the actor's state,
// and the updated state should be returned to gen_server.

value := 0.

// Single assignment - increments value by 1
increment := [ self.value := self.value + 1. ^self.value ].

// Get current value (no mutation)
getValue := [ ^self.value ].

// Note: Multi-statement blocks with parameters (e.g., [:n | self.value := n. ^self.value])
// have a known parser limitation tracked for future work. The increment and getValue
// methods above demonstrate state threading works correctly.
