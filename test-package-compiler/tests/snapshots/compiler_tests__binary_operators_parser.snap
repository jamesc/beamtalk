---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "addition",
                    span: Span {
                        start: 241,
                        end: 249,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 253,
                        end: 254,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 257,
                            end: 258,
                        },
                    ),
                ],
                span: Span {
                    start: 253,
                    end: 258,
                },
            },
            span: Span {
                start: 241,
                end: 258,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "subtraction",
                    span: Span {
                        start: 259,
                        end: 270,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 274,
                        end: 276,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 279,
                            end: 280,
                        },
                    ),
                ],
                span: Span {
                    start: 274,
                    end: 280,
                },
            },
            span: Span {
                start: 259,
                end: 280,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "multiplication",
                    span: Span {
                        start: 281,
                        end: 295,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 299,
                        end: 300,
                    },
                ),
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Literal(
                        Integer(
                            6,
                        ),
                        Span {
                            start: 303,
                            end: 304,
                        },
                    ),
                ],
                span: Span {
                    start: 299,
                    end: 304,
                },
            },
            span: Span {
                start: 281,
                end: 304,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "division",
                    span: Span {
                        start: 305,
                        end: 313,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        20,
                    ),
                    Span {
                        start: 317,
                        end: 319,
                    },
                ),
                selector: Binary(
                    "/",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 322,
                            end: 323,
                        },
                    ),
                ],
                span: Span {
                    start: 317,
                    end: 323,
                },
            },
            span: Span {
                start: 305,
                end: 323,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "modulo",
                    span: Span {
                        start: 324,
                        end: 330,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 334,
                        end: 336,
                    },
                ),
                selector: Binary(
                    "%",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 339,
                            end: 340,
                        },
                    ),
                ],
                span: Span {
                    start: 334,
                    end: 340,
                },
            },
            span: Span {
                start: 324,
                end: 340,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "exponentiation",
                    span: Span {
                        start: 341,
                        end: 355,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 359,
                        end: 360,
                    },
                ),
                selector: Binary(
                    "**",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 364,
                            end: 366,
                        },
                    ),
                ],
                span: Span {
                    start: 359,
                    end: 366,
                },
            },
            span: Span {
                start: 341,
                end: 366,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "equalityCheck",
                    span: Span {
                        start: 404,
                        end: 417,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 421,
                        end: 422,
                    },
                ),
                selector: Binary(
                    "==",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 426,
                            end: 427,
                        },
                    ),
                ],
                span: Span {
                    start: 421,
                    end: 427,
                },
            },
            span: Span {
                start: 404,
                end: 427,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictEqualCheck",
                    span: Span {
                        start: 454,
                        end: 470,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 474,
                        end: 481,
                    },
                ),
                selector: Binary(
                    "=:=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 486,
                            end: 493,
                        },
                    ),
                ],
                span: Span {
                    start: 474,
                    end: 493,
                },
            },
            span: Span {
                start: 454,
                end: 493,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictNotEqualCheck",
                    span: Span {
                        start: 521,
                        end: 540,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        42,
                    ),
                    Span {
                        start: 544,
                        end: 546,
                    },
                ),
                selector: Binary(
                    "/=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            99,
                        ),
                        Span {
                            start: 550,
                            end: 552,
                        },
                    ),
                ],
                span: Span {
                    start: 544,
                    end: 552,
                },
            },
            span: Span {
                start: 521,
                end: 552,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessThan",
                    span: Span {
                        start: 567,
                        end: 575,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 579,
                        end: 580,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 583,
                            end: 585,
                        },
                    ),
                ],
                span: Span {
                    start: 579,
                    end: 585,
                },
            },
            span: Span {
                start: 567,
                end: 585,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterThan",
                    span: Span {
                        start: 603,
                        end: 614,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        15,
                    ),
                    Span {
                        start: 618,
                        end: 620,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        Integer(
                            8,
                        ),
                        Span {
                            start: 623,
                            end: 624,
                        },
                    ),
                ],
                span: Span {
                    start: 618,
                    end: 624,
                },
            },
            span: Span {
                start: 603,
                end: 624,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessOrEqual",
                    span: Span {
                        start: 648,
                        end: 659,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 663,
                        end: 664,
                    },
                ),
                selector: Binary(
                    "<=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 668,
                            end: 669,
                        },
                    ),
                ],
                span: Span {
                    start: 663,
                    end: 669,
                },
            },
            span: Span {
                start: 648,
                end: 669,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterOrEqual",
                    span: Span {
                        start: 696,
                        end: 710,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 714,
                        end: 716,
                    },
                ),
                selector: Binary(
                    ">=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 720,
                            end: 722,
                        },
                    ),
                ],
                span: Span {
                    start: 714,
                    end: 722,
                },
            },
            span: Span {
                start: 696,
                end: 722,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "stringConcat",
                    span: Span {
                        start: 760,
                        end: 772,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "Hello",
                    ),
                    Span {
                        start: 776,
                        end: 783,
                    },
                ),
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            " World",
                        ),
                        Span {
                            start: 787,
                            end: 795,
                        },
                    ),
                ],
                span: Span {
                    start: 776,
                    end: 795,
                },
            },
            span: Span {
                start: 760,
                end: 795,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence1",
                    span: Span {
                        start: 914,
                        end: 925,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 929,
                        end: 930,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 933,
                                end: 934,
                            },
                        ),
                        selector: Binary(
                            "*",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 937,
                                    end: 938,
                                },
                            ),
                        ],
                        span: Span {
                            start: 933,
                            end: 938,
                        },
                    },
                ],
                span: Span {
                    start: 929,
                    end: 938,
                },
            },
            span: Span {
                start: 914,
                end: 938,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence2",
                    span: Span {
                        start: 970,
                        end: 981,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 985,
                        end: 987,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                5,
                            ),
                            Span {
                                start: 990,
                                end: 991,
                            },
                        ),
                        selector: Binary(
                            "/",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    2,
                                ),
                                Span {
                                    start: 994,
                                    end: 995,
                                },
                            ),
                        ],
                        span: Span {
                            start: 990,
                            end: 995,
                        },
                    },
                ],
                span: Span {
                    start: 985,
                    end: 995,
                },
            },
            span: Span {
                start: 970,
                end: 995,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "nested",
                    span: Span {
                        start: 1048,
                        end: 1054,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1059,
                                end: 1060,
                            },
                        ),
                        selector: Binary(
                            "+",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 1063,
                                    end: 1064,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1059,
                            end: 1064,
                        },
                    },
                    span: Span {
                        start: 1058,
                        end: 1065,
                    },
                },
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Parenthesized {
                        expression: MessageSend {
                            receiver: Literal(
                                Integer(
                                    10,
                                ),
                                Span {
                                    start: 1069,
                                    end: 1071,
                                },
                            ),
                            selector: Binary(
                                "-",
                            ),
                            arguments: [
                                Literal(
                                    Integer(
                                        2,
                                    ),
                                    Span {
                                        start: 1074,
                                        end: 1075,
                                    },
                                ),
                            ],
                            span: Span {
                                start: 1069,
                                end: 1075,
                            },
                        },
                        span: Span {
                            start: 1068,
                            end: 1076,
                        },
                    },
                ],
                span: Span {
                    start: 1058,
                    end: 1076,
                },
            },
            span: Span {
                start: 1048,
                end: 1076,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "blockWithOp",
                    span: Span {
                        start: 1103,
                        end: 1114,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [
                        BlockParameter {
                            name: "x",
                            span: Span {
                                start: 1120,
                                end: 1121,
                            },
                        },
                        BlockParameter {
                            name: "y",
                            span: Span {
                                start: 1123,
                                end: 1124,
                            },
                        },
                    ],
                    body: [
                        MessageSend {
                            receiver: Identifier(
                                Identifier {
                                    name: "x",
                                    span: Span {
                                        start: 1127,
                                        end: 1128,
                                    },
                                },
                            ),
                            selector: Binary(
                                "+",
                            ),
                            arguments: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1131,
                                                end: 1132,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "*",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                2,
                                            ),
                                            Span {
                                                start: 1135,
                                                end: 1136,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1131,
                                        end: 1136,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1127,
                                end: 1136,
                            },
                        },
                    ],
                    span: Span {
                        start: 1118,
                        end: 1137,
                    },
                },
            ),
            span: Span {
                start: 1103,
                end: 1137,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "x",
                    span: Span {
                        start: 1191,
                        end: 1192,
                    },
                },
            ),
            value: Literal(
                Integer(
                    10,
                ),
                Span {
                    start: 1196,
                    end: 1198,
                },
            ),
            span: Span {
                start: 1191,
                end: 1198,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "y",
                    span: Span {
                        start: 1199,
                        end: 1200,
                    },
                },
            ),
            value: Literal(
                Integer(
                    3,
                ),
                Span {
                    start: 1204,
                    end: 1205,
                },
            ),
            span: Span {
                start: 1199,
                end: 1205,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "condition",
                    span: Span {
                        start: 1206,
                        end: 1215,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "x",
                                span: Span {
                                    start: 1220,
                                    end: 1221,
                                },
                            },
                        ),
                        selector: Binary(
                            ">",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    5,
                                ),
                                Span {
                                    start: 1224,
                                    end: 1225,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1220,
                            end: 1225,
                        },
                    },
                    span: Span {
                        start: 1219,
                        end: 1226,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "and:",
                            span: Span {
                                start: 1227,
                                end: 1231,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1233,
                                                end: 1234,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                10,
                                            ),
                                            Span {
                                                start: 1237,
                                                end: 1239,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1233,
                                        end: 1239,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1232,
                                end: 1240,
                            },
                        },
                    ),
                ],
                span: Span {
                    start: 1219,
                    end: 1240,
                },
            },
            span: Span {
                start: 1206,
                end: 1240,
            },
        },
    ],
    span: Span {
        start: 241,
        end: 1240,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Test all binary operators for compilation verification",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Comprehensive coverage of all operators supported in Core Erlang codegen",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// ===== Arithmetic Operators =====",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
    ],
}
