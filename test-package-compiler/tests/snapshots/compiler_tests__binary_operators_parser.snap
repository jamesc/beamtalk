---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "addition",
                    span: Span {
                        start: 241,
                        end: 249,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 253,
                        end: 254,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 257,
                            end: 258,
                        },
                    ),
                ],
                span: Span {
                    start: 253,
                    end: 258,
                },
            },
            span: Span {
                start: 241,
                end: 258,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "subtraction",
                    span: Span {
                        start: 259,
                        end: 270,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 274,
                        end: 276,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 279,
                            end: 280,
                        },
                    ),
                ],
                span: Span {
                    start: 274,
                    end: 280,
                },
            },
            span: Span {
                start: 259,
                end: 280,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "multiplication",
                    span: Span {
                        start: 281,
                        end: 295,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 299,
                        end: 300,
                    },
                ),
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Literal(
                        Integer(
                            6,
                        ),
                        Span {
                            start: 303,
                            end: 304,
                        },
                    ),
                ],
                span: Span {
                    start: 299,
                    end: 304,
                },
            },
            span: Span {
                start: 281,
                end: 304,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "division",
                    span: Span {
                        start: 305,
                        end: 313,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        20,
                    ),
                    Span {
                        start: 317,
                        end: 319,
                    },
                ),
                selector: Binary(
                    "/",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 322,
                            end: 323,
                        },
                    ),
                ],
                span: Span {
                    start: 317,
                    end: 323,
                },
            },
            span: Span {
                start: 305,
                end: 323,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "modulo",
                    span: Span {
                        start: 324,
                        end: 330,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 334,
                        end: 336,
                    },
                ),
                selector: Binary(
                    "%",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 339,
                            end: 340,
                        },
                    ),
                ],
                span: Span {
                    start: 334,
                    end: 340,
                },
            },
            span: Span {
                start: 324,
                end: 340,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "equalityCheck",
                    span: Span {
                        start: 378,
                        end: 391,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 395,
                        end: 396,
                    },
                ),
                selector: Binary(
                    "==",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 400,
                            end: 401,
                        },
                    ),
                ],
                span: Span {
                    start: 395,
                    end: 401,
                },
            },
            span: Span {
                start: 378,
                end: 401,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictEqualCheck",
                    span: Span {
                        start: 426,
                        end: 442,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 446,
                        end: 453,
                    },
                ),
                selector: Binary(
                    "=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 456,
                            end: 463,
                        },
                    ),
                ],
                span: Span {
                    start: 446,
                    end: 463,
                },
            },
            span: Span {
                start: 426,
                end: 463,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictNotEqualCheck",
                    span: Span {
                        start: 491,
                        end: 510,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        42,
                    ),
                    Span {
                        start: 514,
                        end: 516,
                    },
                ),
                selector: Binary(
                    "~=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            99,
                        ),
                        Span {
                            start: 520,
                            end: 522,
                        },
                    ),
                ],
                span: Span {
                    start: 514,
                    end: 522,
                },
            },
            span: Span {
                start: 491,
                end: 522,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessThan",
                    span: Span {
                        start: 537,
                        end: 545,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 549,
                        end: 550,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 553,
                            end: 555,
                        },
                    ),
                ],
                span: Span {
                    start: 549,
                    end: 555,
                },
            },
            span: Span {
                start: 537,
                end: 555,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterThan",
                    span: Span {
                        start: 573,
                        end: 584,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        15,
                    ),
                    Span {
                        start: 588,
                        end: 590,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        Integer(
                            8,
                        ),
                        Span {
                            start: 593,
                            end: 594,
                        },
                    ),
                ],
                span: Span {
                    start: 588,
                    end: 594,
                },
            },
            span: Span {
                start: 573,
                end: 594,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessOrEqual",
                    span: Span {
                        start: 618,
                        end: 629,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 633,
                        end: 634,
                    },
                ),
                selector: Binary(
                    "<=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 638,
                            end: 639,
                        },
                    ),
                ],
                span: Span {
                    start: 633,
                    end: 639,
                },
            },
            span: Span {
                start: 618,
                end: 639,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterOrEqual",
                    span: Span {
                        start: 666,
                        end: 680,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 684,
                        end: 686,
                    },
                ),
                selector: Binary(
                    ">=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 690,
                            end: 692,
                        },
                    ),
                ],
                span: Span {
                    start: 684,
                    end: 692,
                },
            },
            span: Span {
                start: 666,
                end: 692,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "stringConcat",
                    span: Span {
                        start: 730,
                        end: 742,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "Hello",
                    ),
                    Span {
                        start: 746,
                        end: 753,
                    },
                ),
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            " World",
                        ),
                        Span {
                            start: 757,
                            end: 765,
                        },
                    ),
                ],
                span: Span {
                    start: 746,
                    end: 765,
                },
            },
            span: Span {
                start: 730,
                end: 765,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence1",
                    span: Span {
                        start: 884,
                        end: 895,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 899,
                        end: 900,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 903,
                                end: 904,
                            },
                        ),
                        selector: Binary(
                            "*",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 907,
                                    end: 908,
                                },
                            ),
                        ],
                        span: Span {
                            start: 903,
                            end: 908,
                        },
                    },
                ],
                span: Span {
                    start: 899,
                    end: 908,
                },
            },
            span: Span {
                start: 884,
                end: 908,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence2",
                    span: Span {
                        start: 940,
                        end: 951,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 955,
                        end: 957,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                5,
                            ),
                            Span {
                                start: 960,
                                end: 961,
                            },
                        ),
                        selector: Binary(
                            "/",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    2,
                                ),
                                Span {
                                    start: 964,
                                    end: 965,
                                },
                            ),
                        ],
                        span: Span {
                            start: 960,
                            end: 965,
                        },
                    },
                ],
                span: Span {
                    start: 955,
                    end: 965,
                },
            },
            span: Span {
                start: 940,
                end: 965,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "nested",
                    span: Span {
                        start: 1018,
                        end: 1024,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1029,
                                end: 1030,
                            },
                        ),
                        selector: Binary(
                            "+",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 1033,
                                    end: 1034,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1029,
                            end: 1034,
                        },
                    },
                    span: Span {
                        start: 1028,
                        end: 1035,
                    },
                },
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Parenthesized {
                        expression: MessageSend {
                            receiver: Literal(
                                Integer(
                                    10,
                                ),
                                Span {
                                    start: 1039,
                                    end: 1041,
                                },
                            ),
                            selector: Binary(
                                "-",
                            ),
                            arguments: [
                                Literal(
                                    Integer(
                                        2,
                                    ),
                                    Span {
                                        start: 1044,
                                        end: 1045,
                                    },
                                ),
                            ],
                            span: Span {
                                start: 1039,
                                end: 1045,
                            },
                        },
                        span: Span {
                            start: 1038,
                            end: 1046,
                        },
                    },
                ],
                span: Span {
                    start: 1028,
                    end: 1046,
                },
            },
            span: Span {
                start: 1018,
                end: 1046,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "blockWithOp",
                    span: Span {
                        start: 1073,
                        end: 1084,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [
                        BlockParameter {
                            name: "x",
                            span: Span {
                                start: 1090,
                                end: 1091,
                            },
                        },
                        BlockParameter {
                            name: "y",
                            span: Span {
                                start: 1093,
                                end: 1094,
                            },
                        },
                    ],
                    body: [
                        MessageSend {
                            receiver: Identifier(
                                Identifier {
                                    name: "x",
                                    span: Span {
                                        start: 1097,
                                        end: 1098,
                                    },
                                },
                            ),
                            selector: Binary(
                                "+",
                            ),
                            arguments: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1101,
                                                end: 1102,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "*",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                2,
                                            ),
                                            Span {
                                                start: 1105,
                                                end: 1106,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1101,
                                        end: 1106,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1097,
                                end: 1106,
                            },
                        },
                    ],
                    span: Span {
                        start: 1088,
                        end: 1107,
                    },
                },
            ),
            span: Span {
                start: 1073,
                end: 1107,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "x",
                    span: Span {
                        start: 1161,
                        end: 1162,
                    },
                },
            ),
            value: Literal(
                Integer(
                    10,
                ),
                Span {
                    start: 1166,
                    end: 1168,
                },
            ),
            span: Span {
                start: 1161,
                end: 1168,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "y",
                    span: Span {
                        start: 1169,
                        end: 1170,
                    },
                },
            ),
            value: Literal(
                Integer(
                    3,
                ),
                Span {
                    start: 1174,
                    end: 1175,
                },
            ),
            span: Span {
                start: 1169,
                end: 1175,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "condition",
                    span: Span {
                        start: 1176,
                        end: 1185,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "x",
                                span: Span {
                                    start: 1190,
                                    end: 1191,
                                },
                            },
                        ),
                        selector: Binary(
                            ">",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    5,
                                ),
                                Span {
                                    start: 1194,
                                    end: 1195,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1190,
                            end: 1195,
                        },
                    },
                    span: Span {
                        start: 1189,
                        end: 1196,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "and:",
                            span: Span {
                                start: 1197,
                                end: 1201,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1203,
                                                end: 1204,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                10,
                                            ),
                                            Span {
                                                start: 1207,
                                                end: 1209,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1203,
                                        end: 1209,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1202,
                                end: 1210,
                            },
                        },
                    ),
                ],
                span: Span {
                    start: 1189,
                    end: 1210,
                },
            },
            span: Span {
                start: 1176,
                end: 1210,
            },
        },
    ],
    span: Span {
        start: 241,
        end: 1210,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Test all binary operators for compilation verification",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Comprehensive coverage of all operators supported in Core Erlang codegen",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// ===== Arithmetic Operators =====",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
    ],
}
