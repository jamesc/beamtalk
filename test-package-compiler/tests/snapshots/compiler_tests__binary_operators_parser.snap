---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "addition",
                    span: Span {
                        start: 241,
                        end: 249,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 253,
                        end: 254,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 257,
                            end: 258,
                        },
                    ),
                ],
                span: Span {
                    start: 253,
                    end: 258,
                },
            },
            span: Span {
                start: 241,
                end: 258,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "subtraction",
                    span: Span {
                        start: 259,
                        end: 270,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 274,
                        end: 276,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 279,
                            end: 280,
                        },
                    ),
                ],
                span: Span {
                    start: 274,
                    end: 280,
                },
            },
            span: Span {
                start: 259,
                end: 280,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "multiplication",
                    span: Span {
                        start: 281,
                        end: 295,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 299,
                        end: 300,
                    },
                ),
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Literal(
                        Integer(
                            6,
                        ),
                        Span {
                            start: 303,
                            end: 304,
                        },
                    ),
                ],
                span: Span {
                    start: 299,
                    end: 304,
                },
            },
            span: Span {
                start: 281,
                end: 304,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "division",
                    span: Span {
                        start: 305,
                        end: 313,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        20,
                    ),
                    Span {
                        start: 317,
                        end: 319,
                    },
                ),
                selector: Binary(
                    "/",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 322,
                            end: 323,
                        },
                    ),
                ],
                span: Span {
                    start: 317,
                    end: 323,
                },
            },
            span: Span {
                start: 305,
                end: 323,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "modulo",
                    span: Span {
                        start: 324,
                        end: 330,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 334,
                        end: 336,
                    },
                ),
                selector: Binary(
                    "%",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 339,
                            end: 340,
                        },
                    ),
                ],
                span: Span {
                    start: 334,
                    end: 340,
                },
            },
            span: Span {
                start: 324,
                end: 340,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictEqualCheck",
                    span: Span {
                        start: 621,
                        end: 637,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 641,
                        end: 648,
                    },
                ),
                selector: Binary(
                    "=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 651,
                            end: 658,
                        },
                    ),
                ],
                span: Span {
                    start: 641,
                    end: 658,
                },
            },
            span: Span {
                start: 621,
                end: 658,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictNotEqualCheck",
                    span: Span {
                        start: 686,
                        end: 705,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        42,
                    ),
                    Span {
                        start: 709,
                        end: 711,
                    },
                ),
                selector: Binary(
                    "~=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            99,
                        ),
                        Span {
                            start: 715,
                            end: 717,
                        },
                    ),
                ],
                span: Span {
                    start: 709,
                    end: 717,
                },
            },
            span: Span {
                start: 686,
                end: 717,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessThan",
                    span: Span {
                        start: 732,
                        end: 740,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 744,
                        end: 745,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 748,
                            end: 750,
                        },
                    ),
                ],
                span: Span {
                    start: 744,
                    end: 750,
                },
            },
            span: Span {
                start: 732,
                end: 750,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterThan",
                    span: Span {
                        start: 768,
                        end: 779,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        15,
                    ),
                    Span {
                        start: 783,
                        end: 785,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        Integer(
                            8,
                        ),
                        Span {
                            start: 788,
                            end: 789,
                        },
                    ),
                ],
                span: Span {
                    start: 783,
                    end: 789,
                },
            },
            span: Span {
                start: 768,
                end: 789,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessOrEqual",
                    span: Span {
                        start: 813,
                        end: 824,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 828,
                        end: 829,
                    },
                ),
                selector: Binary(
                    "<=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 833,
                            end: 834,
                        },
                    ),
                ],
                span: Span {
                    start: 828,
                    end: 834,
                },
            },
            span: Span {
                start: 813,
                end: 834,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterOrEqual",
                    span: Span {
                        start: 861,
                        end: 875,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 879,
                        end: 881,
                    },
                ),
                selector: Binary(
                    ">=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 885,
                            end: 887,
                        },
                    ),
                ],
                span: Span {
                    start: 879,
                    end: 887,
                },
            },
            span: Span {
                start: 861,
                end: 887,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "stringConcat",
                    span: Span {
                        start: 925,
                        end: 937,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "Hello",
                    ),
                    Span {
                        start: 941,
                        end: 948,
                    },
                ),
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            " World",
                        ),
                        Span {
                            start: 952,
                            end: 960,
                        },
                    ),
                ],
                span: Span {
                    start: 941,
                    end: 960,
                },
            },
            span: Span {
                start: 925,
                end: 960,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence1",
                    span: Span {
                        start: 1079,
                        end: 1090,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 1094,
                        end: 1095,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1098,
                                end: 1099,
                            },
                        ),
                        selector: Binary(
                            "*",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 1102,
                                    end: 1103,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1098,
                            end: 1103,
                        },
                    },
                ],
                span: Span {
                    start: 1094,
                    end: 1103,
                },
            },
            span: Span {
                start: 1079,
                end: 1103,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence2",
                    span: Span {
                        start: 1135,
                        end: 1146,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 1150,
                        end: 1152,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                5,
                            ),
                            Span {
                                start: 1155,
                                end: 1156,
                            },
                        ),
                        selector: Binary(
                            "/",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    2,
                                ),
                                Span {
                                    start: 1159,
                                    end: 1160,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1155,
                            end: 1160,
                        },
                    },
                ],
                span: Span {
                    start: 1150,
                    end: 1160,
                },
            },
            span: Span {
                start: 1135,
                end: 1160,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "nested",
                    span: Span {
                        start: 1213,
                        end: 1219,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1224,
                                end: 1225,
                            },
                        ),
                        selector: Binary(
                            "+",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 1228,
                                    end: 1229,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1224,
                            end: 1229,
                        },
                    },
                    span: Span {
                        start: 1223,
                        end: 1230,
                    },
                },
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Parenthesized {
                        expression: MessageSend {
                            receiver: Literal(
                                Integer(
                                    10,
                                ),
                                Span {
                                    start: 1234,
                                    end: 1236,
                                },
                            ),
                            selector: Binary(
                                "-",
                            ),
                            arguments: [
                                Literal(
                                    Integer(
                                        2,
                                    ),
                                    Span {
                                        start: 1239,
                                        end: 1240,
                                    },
                                ),
                            ],
                            span: Span {
                                start: 1234,
                                end: 1240,
                            },
                        },
                        span: Span {
                            start: 1233,
                            end: 1241,
                        },
                    },
                ],
                span: Span {
                    start: 1223,
                    end: 1241,
                },
            },
            span: Span {
                start: 1213,
                end: 1241,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "blockWithOp",
                    span: Span {
                        start: 1268,
                        end: 1279,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [
                        BlockParameter {
                            name: "x",
                            span: Span {
                                start: 1285,
                                end: 1286,
                            },
                        },
                        BlockParameter {
                            name: "y",
                            span: Span {
                                start: 1288,
                                end: 1289,
                            },
                        },
                    ],
                    body: [
                        MessageSend {
                            receiver: Identifier(
                                Identifier {
                                    name: "x",
                                    span: Span {
                                        start: 1292,
                                        end: 1293,
                                    },
                                },
                            ),
                            selector: Binary(
                                "+",
                            ),
                            arguments: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1296,
                                                end: 1297,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "*",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                2,
                                            ),
                                            Span {
                                                start: 1300,
                                                end: 1301,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1296,
                                        end: 1301,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1292,
                                end: 1301,
                            },
                        },
                    ],
                    span: Span {
                        start: 1283,
                        end: 1302,
                    },
                },
            ),
            span: Span {
                start: 1268,
                end: 1302,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "x",
                    span: Span {
                        start: 1356,
                        end: 1357,
                    },
                },
            ),
            value: Literal(
                Integer(
                    10,
                ),
                Span {
                    start: 1361,
                    end: 1363,
                },
            ),
            span: Span {
                start: 1356,
                end: 1363,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "y",
                    span: Span {
                        start: 1364,
                        end: 1365,
                    },
                },
            ),
            value: Literal(
                Integer(
                    3,
                ),
                Span {
                    start: 1369,
                    end: 1370,
                },
            ),
            span: Span {
                start: 1364,
                end: 1370,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "condition",
                    span: Span {
                        start: 1371,
                        end: 1380,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "x",
                                span: Span {
                                    start: 1385,
                                    end: 1386,
                                },
                            },
                        ),
                        selector: Binary(
                            ">",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    5,
                                ),
                                Span {
                                    start: 1389,
                                    end: 1390,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1385,
                            end: 1390,
                        },
                    },
                    span: Span {
                        start: 1384,
                        end: 1391,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "and:",
                            span: Span {
                                start: 1392,
                                end: 1396,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1398,
                                                end: 1399,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                10,
                                            ),
                                            Span {
                                                start: 1402,
                                                end: 1404,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1398,
                                        end: 1404,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1397,
                                end: 1405,
                            },
                        },
                    ),
                ],
                span: Span {
                    start: 1384,
                    end: 1405,
                },
            },
            span: Span {
                start: 1371,
                end: 1405,
            },
        },
    ],
    span: Span {
        start: 241,
        end: 1405,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Test all binary operators for compilation verification",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Comprehensive coverage of all operators supported in Core Erlang codegen",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// ===== Arithmetic Operators =====",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
    ],
}
