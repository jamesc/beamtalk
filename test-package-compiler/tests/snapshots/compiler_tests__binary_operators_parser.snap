---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "addition",
                    span: Span {
                        start: 241,
                        end: 249,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 253,
                        end: 254,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 257,
                            end: 258,
                        },
                    ),
                ],
                span: Span {
                    start: 253,
                    end: 258,
                },
            },
            span: Span {
                start: 241,
                end: 258,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "subtraction",
                    span: Span {
                        start: 259,
                        end: 270,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 274,
                        end: 276,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 279,
                            end: 280,
                        },
                    ),
                ],
                span: Span {
                    start: 274,
                    end: 280,
                },
            },
            span: Span {
                start: 259,
                end: 280,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "multiplication",
                    span: Span {
                        start: 281,
                        end: 295,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 299,
                        end: 300,
                    },
                ),
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Literal(
                        Integer(
                            6,
                        ),
                        Span {
                            start: 303,
                            end: 304,
                        },
                    ),
                ],
                span: Span {
                    start: 299,
                    end: 304,
                },
            },
            span: Span {
                start: 281,
                end: 304,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "division",
                    span: Span {
                        start: 305,
                        end: 313,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        20,
                    ),
                    Span {
                        start: 317,
                        end: 319,
                    },
                ),
                selector: Binary(
                    "/",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 322,
                            end: 323,
                        },
                    ),
                ],
                span: Span {
                    start: 317,
                    end: 323,
                },
            },
            span: Span {
                start: 305,
                end: 323,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "modulo",
                    span: Span {
                        start: 324,
                        end: 330,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 334,
                        end: 336,
                    },
                ),
                selector: Binary(
                    "%",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 339,
                            end: 340,
                        },
                    ),
                ],
                span: Span {
                    start: 334,
                    end: 340,
                },
            },
            span: Span {
                start: 324,
                end: 340,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "exponentiation",
                    span: Span {
                        start: 341,
                        end: 355,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 359,
                        end: 360,
                    },
                ),
                selector: Binary(
                    "**",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 364,
                            end: 366,
                        },
                    ),
                ],
                span: Span {
                    start: 359,
                    end: 366,
                },
            },
            span: Span {
                start: 341,
                end: 366,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "equalityCheck",
                    span: Span {
                        start: 404,
                        end: 417,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 421,
                        end: 422,
                    },
                ),
                selector: Binary(
                    "==",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 426,
                            end: 427,
                        },
                    ),
                ],
                span: Span {
                    start: 421,
                    end: 427,
                },
            },
            span: Span {
                start: 404,
                end: 427,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictEqualCheck",
                    span: Span {
                        start: 452,
                        end: 468,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 472,
                        end: 479,
                    },
                ),
                selector: Binary(
                    "=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 482,
                            end: 489,
                        },
                    ),
                ],
                span: Span {
                    start: 472,
                    end: 489,
                },
            },
            span: Span {
                start: 452,
                end: 489,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "strictNotEqualCheck",
                    span: Span {
                        start: 517,
                        end: 536,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        42,
                    ),
                    Span {
                        start: 540,
                        end: 542,
                    },
                ),
                selector: Binary(
                    "~=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            99,
                        ),
                        Span {
                            start: 546,
                            end: 548,
                        },
                    ),
                ],
                span: Span {
                    start: 540,
                    end: 548,
                },
            },
            span: Span {
                start: 517,
                end: 548,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessThan",
                    span: Span {
                        start: 563,
                        end: 571,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 575,
                        end: 576,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 579,
                            end: 581,
                        },
                    ),
                ],
                span: Span {
                    start: 575,
                    end: 581,
                },
            },
            span: Span {
                start: 563,
                end: 581,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterThan",
                    span: Span {
                        start: 599,
                        end: 610,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        15,
                    ),
                    Span {
                        start: 614,
                        end: 616,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        Integer(
                            8,
                        ),
                        Span {
                            start: 619,
                            end: 620,
                        },
                    ),
                ],
                span: Span {
                    start: 614,
                    end: 620,
                },
            },
            span: Span {
                start: 599,
                end: 620,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lessOrEqual",
                    span: Span {
                        start: 644,
                        end: 655,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 659,
                        end: 660,
                    },
                ),
                selector: Binary(
                    "<=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 664,
                            end: 665,
                        },
                    ),
                ],
                span: Span {
                    start: 659,
                    end: 665,
                },
            },
            span: Span {
                start: 644,
                end: 665,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greaterOrEqual",
                    span: Span {
                        start: 692,
                        end: 706,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 710,
                        end: 712,
                    },
                ),
                selector: Binary(
                    ">=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 716,
                            end: 718,
                        },
                    ),
                ],
                span: Span {
                    start: 710,
                    end: 718,
                },
            },
            span: Span {
                start: 692,
                end: 718,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "stringConcat",
                    span: Span {
                        start: 756,
                        end: 768,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "Hello",
                    ),
                    Span {
                        start: 772,
                        end: 779,
                    },
                ),
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            " World",
                        ),
                        Span {
                            start: 783,
                            end: 791,
                        },
                    ),
                ],
                span: Span {
                    start: 772,
                    end: 791,
                },
            },
            span: Span {
                start: 756,
                end: 791,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence1",
                    span: Span {
                        start: 910,
                        end: 921,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        2,
                    ),
                    Span {
                        start: 925,
                        end: 926,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 929,
                                end: 930,
                            },
                        ),
                        selector: Binary(
                            "*",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 933,
                                    end: 934,
                                },
                            ),
                        ],
                        span: Span {
                            start: 929,
                            end: 934,
                        },
                    },
                ],
                span: Span {
                    start: 925,
                    end: 934,
                },
            },
            span: Span {
                start: 910,
                end: 934,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "precedence2",
                    span: Span {
                        start: 966,
                        end: 977,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 981,
                        end: 983,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    MessageSend {
                        receiver: Literal(
                            Integer(
                                5,
                            ),
                            Span {
                                start: 986,
                                end: 987,
                            },
                        ),
                        selector: Binary(
                            "/",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    2,
                                ),
                                Span {
                                    start: 990,
                                    end: 991,
                                },
                            ),
                        ],
                        span: Span {
                            start: 986,
                            end: 991,
                        },
                    },
                ],
                span: Span {
                    start: 981,
                    end: 991,
                },
            },
            span: Span {
                start: 966,
                end: 991,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "nested",
                    span: Span {
                        start: 1044,
                        end: 1050,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1055,
                                end: 1056,
                            },
                        ),
                        selector: Binary(
                            "+",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    4,
                                ),
                                Span {
                                    start: 1059,
                                    end: 1060,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1055,
                            end: 1060,
                        },
                    },
                    span: Span {
                        start: 1054,
                        end: 1061,
                    },
                },
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Parenthesized {
                        expression: MessageSend {
                            receiver: Literal(
                                Integer(
                                    10,
                                ),
                                Span {
                                    start: 1065,
                                    end: 1067,
                                },
                            ),
                            selector: Binary(
                                "-",
                            ),
                            arguments: [
                                Literal(
                                    Integer(
                                        2,
                                    ),
                                    Span {
                                        start: 1070,
                                        end: 1071,
                                    },
                                ),
                            ],
                            span: Span {
                                start: 1065,
                                end: 1071,
                            },
                        },
                        span: Span {
                            start: 1064,
                            end: 1072,
                        },
                    },
                ],
                span: Span {
                    start: 1054,
                    end: 1072,
                },
            },
            span: Span {
                start: 1044,
                end: 1072,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "blockWithOp",
                    span: Span {
                        start: 1099,
                        end: 1110,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [
                        BlockParameter {
                            name: "x",
                            span: Span {
                                start: 1116,
                                end: 1117,
                            },
                        },
                        BlockParameter {
                            name: "y",
                            span: Span {
                                start: 1119,
                                end: 1120,
                            },
                        },
                    ],
                    body: [
                        MessageSend {
                            receiver: Identifier(
                                Identifier {
                                    name: "x",
                                    span: Span {
                                        start: 1123,
                                        end: 1124,
                                    },
                                },
                            ),
                            selector: Binary(
                                "+",
                            ),
                            arguments: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1127,
                                                end: 1128,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "*",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                2,
                                            ),
                                            Span {
                                                start: 1131,
                                                end: 1132,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1127,
                                        end: 1132,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1123,
                                end: 1132,
                            },
                        },
                    ],
                    span: Span {
                        start: 1114,
                        end: 1133,
                    },
                },
            ),
            span: Span {
                start: 1099,
                end: 1133,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "x",
                    span: Span {
                        start: 1187,
                        end: 1188,
                    },
                },
            ),
            value: Literal(
                Integer(
                    10,
                ),
                Span {
                    start: 1192,
                    end: 1194,
                },
            ),
            span: Span {
                start: 1187,
                end: 1194,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "y",
                    span: Span {
                        start: 1195,
                        end: 1196,
                    },
                },
            ),
            value: Literal(
                Integer(
                    3,
                ),
                Span {
                    start: 1200,
                    end: 1201,
                },
            ),
            span: Span {
                start: 1195,
                end: 1201,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "condition",
                    span: Span {
                        start: 1202,
                        end: 1211,
                    },
                },
            ),
            value: MessageSend {
                receiver: Parenthesized {
                    expression: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "x",
                                span: Span {
                                    start: 1216,
                                    end: 1217,
                                },
                            },
                        ),
                        selector: Binary(
                            ">",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    5,
                                ),
                                Span {
                                    start: 1220,
                                    end: 1221,
                                },
                            ),
                        ],
                        span: Span {
                            start: 1216,
                            end: 1221,
                        },
                    },
                    span: Span {
                        start: 1215,
                        end: 1222,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "and:",
                            span: Span {
                                start: 1223,
                                end: 1227,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "y",
                                            span: Span {
                                                start: 1229,
                                                end: 1230,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                10,
                                            ),
                                            Span {
                                                start: 1233,
                                                end: 1235,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 1229,
                                        end: 1235,
                                    },
                                },
                            ],
                            span: Span {
                                start: 1228,
                                end: 1236,
                            },
                        },
                    ),
                ],
                span: Span {
                    start: 1215,
                    end: 1236,
                },
            },
            span: Span {
                start: 1202,
                end: 1236,
            },
        },
    ],
    span: Span {
        start: 241,
        end: 1236,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Test all binary operators for compilation verification",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// Comprehensive coverage of all operators supported in Core Erlang codegen",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
        Comment {
            content: "// ===== Arithmetic Operators =====",
            span: Span {
                start: 241,
                end: 249,
            },
            kind: Line,
        },
    ],
}
