---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
Token { kind: Identifier("array"), span: Span { start: 189, end: 194 }, leading_trivia: [LineComment("// Copyright 2026 James Casey"), Whitespace("\n"), LineComment("// SPDX-License-Identifier: Apache-2.0"), Whitespace("\n\n"), LineComment("// Test multi-keyword messages with complex arguments"), Whitespace("\n"), LineComment("// Each argument can be a complex expression"), Whitespace("\n\n"), LineComment("// Block arguments"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("with:"), span: Span { start: 195, end: 200 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 201, end: 202 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 202, end: 203 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("x"), span: Span { start: 203, end: 204 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 205, end: 206 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("x"), span: Span { start: 207, end: 208 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 209, end: 210 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 211, end: 212 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 212, end: 213 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("and:"), span: Span { start: 214, end: 218 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 219, end: 220 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 220, end: 221 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("y"), span: Span { start: 221, end: 222 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 223, end: 224 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("y"), span: Span { start: 225, end: 226 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("*"), span: Span { start: 227, end: 228 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("2"), span: Span { start: 229, end: 230 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 230, end: 231 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("calculator"), span: Span { start: 262, end: 272 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Binary operator arguments"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("compute:"), span: Span { start: 273, end: 281 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("2"), span: Span { start: 282, end: 283 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 284, end: 285 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("3"), span: Span { start: 286, end: 287 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("*"), span: Span { start: 288, end: 289 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("4"), span: Span { start: 290, end: 291 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("with:"), span: Span { start: 292, end: 297 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 298, end: 300 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("-"), span: Span { start: 301, end: 302 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 303, end: 304 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("/"), span: Span { start: 305, end: 306 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("2"), span: Span { start: 307, end: 308 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("server"), span: Span { start: 330, end: 336 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Mixed complexity"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("connect:"), span: Span { start: 337, end: 345 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: String("localhost"), span: Span { start: 346, end: 357 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("port:"), span: Span { start: 358, end: 363 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("8080"), span: Span { start: 364, end: 368 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 369, end: 370 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("offset"), span: Span { start: 371, end: 377 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("timeout:"), span: Span { start: 378, end: 386 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("maxTime"), span: Span { start: 387, end: 394 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("*"), span: Span { start: 395, end: 396 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("2"), span: Span { start: 397, end: 398 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("processor"), span: Span { start: 431, end: 440 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Nested blocks and operators"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("transform:"), span: Span { start: 441, end: 451 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 452, end: 453 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 453, end: 454 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("x"), span: Span { start: 454, end: 455 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 456, end: 457 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("x"), span: Span { start: 458, end: 459 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("*"), span: Span { start: 460, end: 461 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("factor"), span: Span { start: 462, end: 468 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 468, end: 469 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("range:"), span: Span { start: 470, end: 476 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("start"), span: Span { start: 477, end: 482 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("to:"), span: Span { start: 483, end: 486 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("start"), span: Span { start: 487, end: 492 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 493, end: 494 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("count"), span: Span { start: 495, end: 500 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("step:"), span: Span { start: 501, end: 506 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("increment"), span: Span { start: 507, end: 516 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 517, end: 518 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 519, end: 520 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Eof, span: Span { start: 521, end: 521 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [] }
