---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: " Copyright 2026 James Casey",
                        span: Span {
                            start: 138,
                            end: 144,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: " SPDX-License-Identifier: Apache-2.0",
                        span: Span {
                            start: 138,
                            end: 144,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: " Test Set (unique elements) operations",
                        span: Span {
                            start: 138,
                            end: 144,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: " Set creation from list",
                        span: Span {
                            start: 138,
                            end: 144,
                        },
                        kind: Line,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "colors",
                        span: Span {
                            start: 138,
                            end: 144,
                        },
                    },
                ),
                value: MessageSend {
                    receiver: ClassReference {
                        name: Identifier {
                            name: "Set",
                            span: Span {
                                start: 148,
                                end: 151,
                            },
                        },
                        span: Span {
                            start: 148,
                            end: 151,
                        },
                    },
                    selector: Keyword(
                        [
                            KeywordPart {
                                keyword: "fromList:",
                                span: Span {
                                    start: 152,
                                    end: 161,
                                },
                            },
                        ],
                    ),
                    arguments: [
                        Block(
                            Block {
                                parameters: [],
                                body: [
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: Literal(
                                            Symbol(
                                                "red",
                                            ),
                                            Span {
                                                start: 163,
                                                end: 167,
                                            },
                                        ),
                                    },
                                ],
                                span: Span {
                                    start: 162,
                                    end: 163,
                                },
                            },
                        ),
                    ],
                    is_cast: false,
                    span: Span {
                        start: 148,
                        end: 163,
                    },
                },
                span: Span {
                    start: 138,
                    end: 163,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ,",
                span: Span {
                    start: 167,
                    end: 168,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 182,
                    end: 183,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 229,
                    end: 230,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 649,
                    end: 650,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 708,
                    end: 709,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 765,
                    end: 766,
                },
            },
        },
    ],
    span: Span {
        start: 138,
        end: 918,
    },
    file_leading_comments: [],
}

Diagnostics:
Diagnostic { severity: Error, message: "Expected ']' to close block", span: Span { start: 167, end: 168 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ,", span: Span { start: 167, end: 168 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 182, end: 183 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 229, end: 230 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 649, end: 650 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 708, end: 709 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 765, end: 766 }, hint: None, category: None }
