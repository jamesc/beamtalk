---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
Token { kind: Identifier("noArgs"), span: Span { start: 171, end: 177 }, leading_trivia: [LineComment("// Copyright 2026 James Casey"), Whitespace("\n"), LineComment("// SPDX-License-Identifier: Apache-2.0"), Whitespace("\n\n"), LineComment("// Test blocks with no arguments"), Whitespace("\n"), LineComment("// Empty parameter list is valid"), Whitespace("\n\n"), LineComment("// Simple block with no arguments"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 178, end: 180 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 181, end: 182 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("42"), span: Span { start: 182, end: 184 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 184, end: 185 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("result1"), span: Span { start: 186, end: 193 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 194, end: 196 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("noArgs"), span: Span { start: 197, end: 203 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("value"), span: Span { start: 204, end: 209 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("outer"), span: Span { start: 259, end: 264 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Block with no args that accesses outer scope"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 265, end: 267 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 268, end: 270 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("captureBlock"), span: Span { start: 271, end: 283 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 284, end: 286 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 287, end: 288 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("outer"), span: Span { start: 288, end: 293 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 294, end: 295 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 296, end: 297 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 297, end: 298 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("result2"), span: Span { start: 299, end: 306 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 307, end: 309 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("captureBlock"), span: Span { start: 310, end: 322 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("value"), span: Span { start: 323, end: 328 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("condition"), span: Span { start: 383, end: 392 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Block with no args as control structure condition"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 393, end: 395 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 396, end: 397 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 397, end: 404 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector(">"), span: Span { start: 405, end: 406 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 407, end: 408 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 408, end: 409 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("condition"), span: Span { start: 410, end: 419 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("whileTrue:"), span: Span { start: 420, end: 430 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 431, end: 432 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 432, end: 439 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 440, end: 442 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("counter"), span: Span { start: 443, end: 450 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("-"), span: Span { start: 451, end: 452 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 453, end: 454 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 454, end: 455 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("block1"), span: Span { start: 489, end: 495 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Multiple blocks with no args"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 496, end: 498 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 499, end: 500 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("1"), span: Span { start: 500, end: 501 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 501, end: 502 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("block2"), span: Span { start: 503, end: 509 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 510, end: 512 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 513, end: 514 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("2"), span: Span { start: 514, end: 515 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 515, end: 516 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("block3"), span: Span { start: 517, end: 523 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 524, end: 526 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 527, end: 528 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("3"), span: Span { start: 528, end: 529 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 529, end: 530 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Eof, span: Span { start: 531, end: 531 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [] }
