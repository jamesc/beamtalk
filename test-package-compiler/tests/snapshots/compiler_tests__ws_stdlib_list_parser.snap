---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "// Copyright 2026 James Casey",
                        span: Span {
                            start: 126,
                            end: 133,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: "// SPDX-License-Identifier: Apache-2.0",
                        span: Span {
                            start: 126,
                            end: 133,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: "// Test List (linked list) operations",
                        span: Span {
                            start: 126,
                            end: 133,
                        },
                        kind: Line,
                    },
                    Comment {
                        content: "// List creation",
                        span: Span {
                            start: 126,
                            end: 133,
                        },
                        kind: Line,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "numbers",
                        span: Span {
                            start: 126,
                            end: 133,
                        },
                    },
                ),
                value: Block(
                    Block {
                        parameters: [],
                        body: [
                            ExpressionStatement {
                                comments: CommentAttachment {
                                    leading: [],
                                    trailing: None,
                                },
                                expression: Literal(
                                    Integer(
                                        1,
                                    ),
                                    Span {
                                        start: 138,
                                        end: 139,
                                    },
                                ),
                            },
                        ],
                        span: Span {
                            start: 137,
                            end: 138,
                        },
                    },
                ),
                span: Span {
                    start: 126,
                    end: 138,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ,",
                span: Span {
                    start: 139,
                    end: 140,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 151,
                    end: 152,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 163,
                    end: 164,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 412,
                    end: 413,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 472,
                    end: 473,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 528,
                    end: 529,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 593,
                    end: 594,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found ]",
                    span: Span {
                        start: 682,
                        end: 683,
                    },
                },
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Literal(
                                        Integer(
                                            3,
                                        ),
                                        Span {
                                            start: 688,
                                            end: 689,
                                        },
                                    ),
                                },
                            ],
                            span: Span {
                                start: 687,
                                end: 688,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 682,
                    end: 688,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ,",
                span: Span {
                    start: 689,
                    end: 690,
                },
            },
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 692,
                    end: 693,
                },
            },
        },
    ],
    span: Span {
        start: 126,
        end: 838,
    },
    file_leading_comments: [],
}

Diagnostics:
Diagnostic { severity: Error, message: "Expected ']' to close block", span: Span { start: 139, end: 140 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ,", span: Span { start: 139, end: 140 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 151, end: 152 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 163, end: 164 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 412, end: 413 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 472, end: 473 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 528, end: 529 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 593, end: 594 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 682, end: 683 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Expected ']' to close block", span: Span { start: 689, end: 690 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ,", span: Span { start: 689, end: 690 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 692, end: 693 }, hint: None, category: None }
