---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Copyright 2026 James Casey",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "SPDX-License-Identifier: Apache-2.0",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Test control flow constructs with variable and field mutations",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Per BT-90 design: literal blocks in control flow positions can mutate",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Local Variable Mutations",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Simple whileTrue with local variable mutation",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "count",
                        span: Span {
                            start: 376,
                            end: 381,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 385,
                        end: 386,
                    },
                ),
                span: Span {
                    start: 376,
                    end: 386,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Block(
                    Block {
                        parameters: [],
                        body: [
                            ExpressionStatement {
                                comments: CommentAttachment {
                                    leading: [],
                                    trailing: None,
                                },
                                expression: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "count",
                                            span: Span {
                                                start: 389,
                                                end: 394,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                3,
                                            ),
                                            Span {
                                                start: 397,
                                                end: 398,
                                            },
                                        ),
                                    ],
                                    is_cast: false,
                                    span: Span {
                                        start: 389,
                                        end: 398,
                                    },
                                },
                                preceding_blank_line: false,
                            },
                        ],
                        span: Span {
                            start: 388,
                            end: 399,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 400,
                                end: 410,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "count",
                                                span: Span {
                                                    start: 412,
                                                    end: 417,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "count",
                                                    span: Span {
                                                        start: 421,
                                                        end: 426,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 429,
                                                        end: 430,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 421,
                                                end: 430,
                                            },
                                        },
                                        span: Span {
                                            start: 412,
                                            end: 430,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 411,
                                end: 431,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 388,
                    end: 431,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: count = 3",
                        span: Span {
                            start: 485,
                            end: 491,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "whileFalse with mutation",
                        span: Span {
                            start: 485,
                            end: 491,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "count2",
                        span: Span {
                            start: 485,
                            end: 491,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 495,
                        end: 497,
                    },
                ),
                span: Span {
                    start: 485,
                    end: 497,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Block(
                    Block {
                        parameters: [],
                        body: [
                            ExpressionStatement {
                                comments: CommentAttachment {
                                    leading: [],
                                    trailing: None,
                                },
                                expression: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "count2",
                                            span: Span {
                                                start: 500,
                                                end: 506,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "=",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                0,
                                            ),
                                            Span {
                                                start: 509,
                                                end: 510,
                                            },
                                        ),
                                    ],
                                    is_cast: false,
                                    span: Span {
                                        start: 500,
                                        end: 510,
                                    },
                                },
                                preceding_blank_line: false,
                            },
                        ],
                        span: Span {
                            start: 499,
                            end: 511,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileFalse:",
                            span: Span {
                                start: 512,
                                end: 523,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "count2",
                                                span: Span {
                                                    start: 525,
                                                    end: 531,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "count2",
                                                    span: Span {
                                                        start: 535,
                                                        end: 541,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "-",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 544,
                                                        end: 545,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 535,
                                                end: 545,
                                            },
                                        },
                                        span: Span {
                                            start: 525,
                                            end: 545,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 524,
                                end: 546,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 499,
                    end: 546,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: count2 = 0",
                        span: Span {
                            start: 615,
                            end: 618,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Multiple variables mutated in one loop",
                        span: Span {
                            start: 615,
                            end: 618,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "sum",
                        span: Span {
                            start: 615,
                            end: 618,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 622,
                        end: 623,
                    },
                ),
                span: Span {
                    start: 615,
                    end: 623,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "product",
                        span: Span {
                            start: 625,
                            end: 632,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        1,
                    ),
                    Span {
                        start: 636,
                        end: 637,
                    },
                ),
                span: Span {
                    start: 625,
                    end: 637,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "i",
                        span: Span {
                            start: 639,
                            end: 640,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        1,
                    ),
                    Span {
                        start: 644,
                        end: 645,
                    },
                ),
                span: Span {
                    start: 639,
                    end: 645,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Block(
                    Block {
                        parameters: [],
                        body: [
                            ExpressionStatement {
                                comments: CommentAttachment {
                                    leading: [],
                                    trailing: None,
                                },
                                expression: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "i",
                                            span: Span {
                                                start: 648,
                                                end: 649,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<=",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                3,
                                            ),
                                            Span {
                                                start: 653,
                                                end: 654,
                                            },
                                        ),
                                    ],
                                    is_cast: false,
                                    span: Span {
                                        start: 648,
                                        end: 654,
                                    },
                                },
                                preceding_blank_line: false,
                            },
                        ],
                        span: Span {
                            start: 647,
                            end: 655,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 656,
                                end: 666,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "sum",
                                                span: Span {
                                                    start: 673,
                                                    end: 676,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "sum",
                                                    span: Span {
                                                        start: 680,
                                                        end: 683,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "i",
                                                        span: Span {
                                                            start: 686,
                                                            end: 687,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 680,
                                                end: 687,
                                            },
                                        },
                                        span: Span {
                                            start: 673,
                                            end: 687,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "product",
                                                span: Span {
                                                    start: 693,
                                                    end: 700,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "product",
                                                    span: Span {
                                                        start: 704,
                                                        end: 711,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "*",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "i",
                                                        span: Span {
                                                            start: 714,
                                                            end: 715,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 704,
                                                end: 715,
                                            },
                                        },
                                        span: Span {
                                            start: 693,
                                            end: 715,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "i",
                                                span: Span {
                                                    start: 721,
                                                    end: 722,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "i",
                                                    span: Span {
                                                        start: 726,
                                                        end: 727,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 730,
                                                        end: 731,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 726,
                                                end: 731,
                                            },
                                        },
                                        span: Span {
                                            start: 721,
                                            end: 731,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 667,
                                end: 733,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 647,
                    end: 733,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: sum = 6 (1+2+3), product = 6 (1*2*3), i = 4",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Control Flow with Index Variables",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "timesRepeat with mutation",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "counter",
                        span: Span {
                            start: 948,
                            end: 955,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 959,
                        end: 960,
                    },
                ),
                span: Span {
                    start: 948,
                    end: 960,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 962,
                        end: 963,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "timesRepeat:",
                            span: Span {
                                start: 964,
                                end: 976,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "counter",
                                                span: Span {
                                                    start: 978,
                                                    end: 985,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "counter",
                                                    span: Span {
                                                        start: 989,
                                                        end: 996,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 999,
                                                        end: 1000,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 989,
                                                end: 1000,
                                            },
                                        },
                                        span: Span {
                                            start: 978,
                                            end: 1000,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 977,
                                end: 1001,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 962,
                    end: 1001,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: counter = 5",
                        span: Span {
                            start: 1066,
                            end: 1071,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "to:do: with index and accumulator",
                        span: Span {
                            start: 1066,
                            end: 1071,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "total",
                        span: Span {
                            start: 1066,
                            end: 1071,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 1075,
                        end: 1076,
                    },
                ),
                span: Span {
                    start: 1066,
                    end: 1076,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Literal(
                    Integer(
                        1,
                    ),
                    Span {
                        start: 1078,
                        end: 1079,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "to:",
                            span: Span {
                                start: 1080,
                                end: 1083,
                            },
                        },
                        KeywordPart {
                            keyword: "do:",
                            span: Span {
                                start: 1087,
                                end: 1090,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 1084,
                            end: 1086,
                        },
                    ),
                    Block(
                        Block {
                            parameters: [
                                BlockParameter {
                                    name: "n",
                                    span: Span {
                                        start: 1093,
                                        end: 1094,
                                    },
                                },
                            ],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "total",
                                                span: Span {
                                                    start: 1097,
                                                    end: 1102,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "total",
                                                    span: Span {
                                                        start: 1106,
                                                        end: 1111,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "n",
                                                        span: Span {
                                                            start: 1114,
                                                            end: 1115,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1106,
                                                end: 1115,
                                            },
                                        },
                                        span: Span {
                                            start: 1097,
                                            end: 1115,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 1091,
                                end: 1116,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 1078,
                    end: 1116,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: total = 55 (sum 1..10)",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Collection Iteration with Mutations",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Array do: with accumulation",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "numbers",
                        span: Span {
                            start: 1314,
                            end: 1321,
                        },
                    },
                ),
                value: ArrayLiteral {
                    elements: [
                        Literal(
                            Integer(
                                1,
                            ),
                            Span {
                                start: 1327,
                                end: 1328,
                            },
                        ),
                        Literal(
                            Integer(
                                2,
                            ),
                            Span {
                                start: 1330,
                                end: 1331,
                            },
                        ),
                        Literal(
                            Integer(
                                3,
                            ),
                            Span {
                                start: 1333,
                                end: 1334,
                            },
                        ),
                        Literal(
                            Integer(
                                4,
                            ),
                            Span {
                                start: 1336,
                                end: 1337,
                            },
                        ),
                        Literal(
                            Integer(
                                5,
                            ),
                            Span {
                                start: 1339,
                                end: 1340,
                            },
                        ),
                    ],
                    span: Span {
                        start: 1325,
                        end: 1341,
                    },
                },
                span: Span {
                    start: 1314,
                    end: 1341,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "arraySum",
                        span: Span {
                            start: 1343,
                            end: 1351,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 1355,
                        end: 1356,
                    },
                ),
                span: Span {
                    start: 1343,
                    end: 1356,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "numbers",
                        span: Span {
                            start: 1358,
                            end: 1365,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "do:",
                            span: Span {
                                start: 1366,
                                end: 1369,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [
                                BlockParameter {
                                    name: "n",
                                    span: Span {
                                        start: 1372,
                                        end: 1373,
                                    },
                                },
                            ],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "arraySum",
                                                span: Span {
                                                    start: 1376,
                                                    end: 1384,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "arraySum",
                                                    span: Span {
                                                        start: 1388,
                                                        end: 1396,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "n",
                                                        span: Span {
                                                            start: 1399,
                                                            end: 1400,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1388,
                                                end: 1400,
                                            },
                                        },
                                        span: Span {
                                            start: 1376,
                                            end: 1400,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 1370,
                                end: 1401,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 1358,
                    end: 1401,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: arraySum = 15",
                        span: Span {
                            start: 1491,
                            end: 1500,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "collect: (returns new collection, but can mutate locals)",
                        span: Span {
                            start: 1491,
                            end: 1500,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "evenCount",
                        span: Span {
                            start: 1491,
                            end: 1500,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 1504,
                        end: 1505,
                    },
                ),
                span: Span {
                    start: 1491,
                    end: 1505,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "doubled",
                        span: Span {
                            start: 1507,
                            end: 1514,
                        },
                    },
                ),
                value: MessageSend {
                    receiver: Identifier(
                        Identifier {
                            name: "numbers",
                            span: Span {
                                start: 1518,
                                end: 1525,
                            },
                        },
                    ),
                    selector: Keyword(
                        [
                            KeywordPart {
                                keyword: "collect:",
                                span: Span {
                                    start: 1526,
                                    end: 1534,
                                },
                            },
                        ],
                    ),
                    arguments: [
                        Block(
                            Block {
                                parameters: [
                                    BlockParameter {
                                        name: "n",
                                        span: Span {
                                            start: 1537,
                                            end: 1538,
                                        },
                                    },
                                ],
                                body: [
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: Assignment {
                                            target: Identifier(
                                                Identifier {
                                                    name: "evenCount",
                                                    span: Span {
                                                        start: 1545,
                                                        end: 1554,
                                                    },
                                                },
                                            ),
                                            value: MessageSend {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "evenCount",
                                                        span: Span {
                                                            start: 1558,
                                                            end: 1567,
                                                        },
                                                    },
                                                ),
                                                selector: Binary(
                                                    "+",
                                                ),
                                                arguments: [
                                                    Parenthesized {
                                                        expression: MessageSend {
                                                            receiver: MessageSend {
                                                                receiver: MessageSend {
                                                                    receiver: Identifier(
                                                                        Identifier {
                                                                            name: "n",
                                                                            span: Span {
                                                                                start: 1571,
                                                                                end: 1572,
                                                                            },
                                                                        },
                                                                    ),
                                                                    selector: Binary(
                                                                        "%",
                                                                    ),
                                                                    arguments: [
                                                                        Literal(
                                                                            Integer(
                                                                                2,
                                                                            ),
                                                                            Span {
                                                                                start: 1575,
                                                                                end: 1576,
                                                                            },
                                                                        ),
                                                                    ],
                                                                    is_cast: false,
                                                                    span: Span {
                                                                        start: 1571,
                                                                        end: 1576,
                                                                    },
                                                                },
                                                                selector: Binary(
                                                                    "=",
                                                                ),
                                                                arguments: [
                                                                    Literal(
                                                                        Integer(
                                                                            0,
                                                                        ),
                                                                        Span {
                                                                            start: 1579,
                                                                            end: 1580,
                                                                        },
                                                                    ),
                                                                ],
                                                                is_cast: false,
                                                                span: Span {
                                                                    start: 1571,
                                                                    end: 1580,
                                                                },
                                                            },
                                                            selector: Keyword(
                                                                [
                                                                    KeywordPart {
                                                                        keyword: "ifTrue:",
                                                                        span: Span {
                                                                            start: 1581,
                                                                            end: 1588,
                                                                        },
                                                                    },
                                                                    KeywordPart {
                                                                        keyword: "ifFalse:",
                                                                        span: Span {
                                                                            start: 1593,
                                                                            end: 1601,
                                                                        },
                                                                    },
                                                                ],
                                                            ),
                                                            arguments: [
                                                                Block(
                                                                    Block {
                                                                        parameters: [],
                                                                        body: [
                                                                            ExpressionStatement {
                                                                                comments: CommentAttachment {
                                                                                    leading: [],
                                                                                    trailing: None,
                                                                                },
                                                                                expression: Literal(
                                                                                    Integer(
                                                                                        1,
                                                                                    ),
                                                                                    Span {
                                                                                        start: 1590,
                                                                                        end: 1591,
                                                                                    },
                                                                                ),
                                                                                preceding_blank_line: false,
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 1589,
                                                                            end: 1592,
                                                                        },
                                                                    },
                                                                ),
                                                                Block(
                                                                    Block {
                                                                        parameters: [],
                                                                        body: [
                                                                            ExpressionStatement {
                                                                                comments: CommentAttachment {
                                                                                    leading: [],
                                                                                    trailing: None,
                                                                                },
                                                                                expression: Literal(
                                                                                    Integer(
                                                                                        0,
                                                                                    ),
                                                                                    Span {
                                                                                        start: 1603,
                                                                                        end: 1604,
                                                                                    },
                                                                                ),
                                                                                preceding_blank_line: false,
                                                                            },
                                                                        ],
                                                                        span: Span {
                                                                            start: 1602,
                                                                            end: 1605,
                                                                        },
                                                                    },
                                                                ),
                                                            ],
                                                            is_cast: false,
                                                            span: Span {
                                                                start: 1571,
                                                                end: 1605,
                                                            },
                                                        },
                                                        span: Span {
                                                            start: 1570,
                                                            end: 1606,
                                                        },
                                                    },
                                                ],
                                                is_cast: false,
                                                span: Span {
                                                    start: 1558,
                                                    end: 1606,
                                                },
                                            },
                                            span: Span {
                                                start: 1545,
                                                end: 1606,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "n",
                                                    span: Span {
                                                        start: 1612,
                                                        end: 1613,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "*",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        2,
                                                    ),
                                                    Span {
                                                        start: 1616,
                                                        end: 1617,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1612,
                                                end: 1617,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                ],
                                span: Span {
                                    start: 1535,
                                    end: 1619,
                                },
                            },
                        ),
                    ],
                    is_cast: false,
                    span: Span {
                        start: 1518,
                        end: 1619,
                    },
                },
                span: Span {
                    start: 1507,
                    end: 1619,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: evenCount = 2, doubled = #[2,4,6,8,10]",
                        span: Span {
                            start: 1703,
                            end: 1713,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "select: with side effects",
                        span: Span {
                            start: 1703,
                            end: 1713,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "matchCount",
                        span: Span {
                            start: 1703,
                            end: 1713,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 1717,
                        end: 1718,
                    },
                ),
                span: Span {
                    start: 1703,
                    end: 1718,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "evens",
                        span: Span {
                            start: 1720,
                            end: 1725,
                        },
                    },
                ),
                value: MessageSend {
                    receiver: Identifier(
                        Identifier {
                            name: "numbers",
                            span: Span {
                                start: 1729,
                                end: 1736,
                            },
                        },
                    ),
                    selector: Keyword(
                        [
                            KeywordPart {
                                keyword: "select:",
                                span: Span {
                                    start: 1737,
                                    end: 1744,
                                },
                            },
                        ],
                    ),
                    arguments: [
                        Block(
                            Block {
                                parameters: [
                                    BlockParameter {
                                        name: "n",
                                        span: Span {
                                            start: 1747,
                                            end: 1748,
                                        },
                                    },
                                ],
                                body: [
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: Assignment {
                                            target: Identifier(
                                                Identifier {
                                                    name: "matchCount",
                                                    span: Span {
                                                        start: 1755,
                                                        end: 1765,
                                                    },
                                                },
                                            ),
                                            value: MessageSend {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "matchCount",
                                                        span: Span {
                                                            start: 1769,
                                                            end: 1779,
                                                        },
                                                    },
                                                ),
                                                selector: Binary(
                                                    "+",
                                                ),
                                                arguments: [
                                                    Literal(
                                                        Integer(
                                                            1,
                                                        ),
                                                        Span {
                                                            start: 1782,
                                                            end: 1783,
                                                        },
                                                    ),
                                                ],
                                                is_cast: false,
                                                span: Span {
                                                    start: 1769,
                                                    end: 1783,
                                                },
                                            },
                                            span: Span {
                                                start: 1755,
                                                end: 1783,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: MessageSend {
                                            receiver: MessageSend {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "n",
                                                        span: Span {
                                                            start: 1789,
                                                            end: 1790,
                                                        },
                                                    },
                                                ),
                                                selector: Binary(
                                                    "%",
                                                ),
                                                arguments: [
                                                    Literal(
                                                        Integer(
                                                            2,
                                                        ),
                                                        Span {
                                                            start: 1793,
                                                            end: 1794,
                                                        },
                                                    ),
                                                ],
                                                is_cast: false,
                                                span: Span {
                                                    start: 1789,
                                                    end: 1794,
                                                },
                                            },
                                            selector: Binary(
                                                "=:=",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        0,
                                                    ),
                                                    Span {
                                                        start: 1799,
                                                        end: 1800,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1789,
                                                end: 1800,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                ],
                                span: Span {
                                    start: 1745,
                                    end: 1802,
                                },
                            },
                        ),
                    ],
                    is_cast: false,
                    span: Span {
                        start: 1729,
                        end: 1802,
                    },
                },
                span: Span {
                    start: 1720,
                    end: 1802,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: matchCount = 5, evens = #[2,4]",
                        span: Span {
                            start: 1888,
                            end: 1895,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "inject:into: with external mutation",
                        span: Span {
                            start: 1888,
                            end: 1895,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "maxSeen",
                        span: Span {
                            start: 1888,
                            end: 1895,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 1899,
                        end: 1900,
                    },
                ),
                span: Span {
                    start: 1888,
                    end: 1900,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "finalSum",
                        span: Span {
                            start: 1902,
                            end: 1910,
                        },
                    },
                ),
                value: MessageSend {
                    receiver: Identifier(
                        Identifier {
                            name: "numbers",
                            span: Span {
                                start: 1914,
                                end: 1921,
                            },
                        },
                    ),
                    selector: Keyword(
                        [
                            KeywordPart {
                                keyword: "inject:",
                                span: Span {
                                    start: 1922,
                                    end: 1929,
                                },
                            },
                            KeywordPart {
                                keyword: "into:",
                                span: Span {
                                    start: 1932,
                                    end: 1937,
                                },
                            },
                        ],
                    ),
                    arguments: [
                        Literal(
                            Integer(
                                0,
                            ),
                            Span {
                                start: 1930,
                                end: 1931,
                            },
                        ),
                        Block(
                            Block {
                                parameters: [
                                    BlockParameter {
                                        name: "acc",
                                        span: Span {
                                            start: 1940,
                                            end: 1943,
                                        },
                                    },
                                    BlockParameter {
                                        name: "n",
                                        span: Span {
                                            start: 1945,
                                            end: 1946,
                                        },
                                    },
                                ],
                                body: [
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: MessageSend {
                                            receiver: MessageSend {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "n",
                                                        span: Span {
                                                            start: 1953,
                                                            end: 1954,
                                                        },
                                                    },
                                                ),
                                                selector: Binary(
                                                    ">",
                                                ),
                                                arguments: [
                                                    Identifier(
                                                        Identifier {
                                                            name: "maxSeen",
                                                            span: Span {
                                                                start: 1957,
                                                                end: 1964,
                                                            },
                                                        },
                                                    ),
                                                ],
                                                is_cast: false,
                                                span: Span {
                                                    start: 1953,
                                                    end: 1964,
                                                },
                                            },
                                            selector: Keyword(
                                                [
                                                    KeywordPart {
                                                        keyword: "ifTrue:",
                                                        span: Span {
                                                            start: 1965,
                                                            end: 1972,
                                                        },
                                                    },
                                                ],
                                            ),
                                            arguments: [
                                                Block(
                                                    Block {
                                                        parameters: [],
                                                        body: [
                                                            ExpressionStatement {
                                                                comments: CommentAttachment {
                                                                    leading: [],
                                                                    trailing: None,
                                                                },
                                                                expression: Assignment {
                                                                    target: Identifier(
                                                                        Identifier {
                                                                            name: "maxSeen",
                                                                            span: Span {
                                                                                start: 1974,
                                                                                end: 1981,
                                                                            },
                                                                        },
                                                                    ),
                                                                    value: Identifier(
                                                                        Identifier {
                                                                            name: "n",
                                                                            span: Span {
                                                                                start: 1985,
                                                                                end: 1986,
                                                                            },
                                                                        },
                                                                    ),
                                                                    span: Span {
                                                                        start: 1974,
                                                                        end: 1986,
                                                                    },
                                                                },
                                                                preceding_blank_line: false,
                                                            },
                                                        ],
                                                        span: Span {
                                                            start: 1973,
                                                            end: 1987,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1953,
                                                end: 1987,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                    ExpressionStatement {
                                        comments: CommentAttachment {
                                            leading: [],
                                            trailing: None,
                                        },
                                        expression: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "acc",
                                                    span: Span {
                                                        start: 1993,
                                                        end: 1996,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "n",
                                                        span: Span {
                                                            start: 1999,
                                                            end: 2000,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 1993,
                                                end: 2000,
                                            },
                                        },
                                        preceding_blank_line: false,
                                    },
                                ],
                                span: Span {
                                    start: 1938,
                                    end: 2002,
                                },
                            },
                        ),
                    ],
                    is_cast: false,
                    span: Span {
                        start: 1914,
                        end: 2002,
                    },
                },
                span: Span {
                    start: 1902,
                    end: 2002,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: maxSeen = 5, finalSum = 15",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Nested Control Flow",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Nested loops with multiple mutations",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "outerSum",
                        span: Span {
                            start: 2197,
                            end: 2205,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 2209,
                        end: 2210,
                    },
                ),
                span: Span {
                    start: 2197,
                    end: 2210,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "innerSum",
                        span: Span {
                            start: 2212,
                            end: 2220,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 2224,
                        end: 2225,
                    },
                ),
                span: Span {
                    start: 2212,
                    end: 2225,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "x",
                        span: Span {
                            start: 2227,
                            end: 2228,
                        },
                    },
                ),
                value: Literal(
                    Integer(
                        1,
                    ),
                    Span {
                        start: 2232,
                        end: 2233,
                    },
                ),
                span: Span {
                    start: 2227,
                    end: 2233,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Block(
                    Block {
                        parameters: [],
                        body: [
                            ExpressionStatement {
                                comments: CommentAttachment {
                                    leading: [],
                                    trailing: None,
                                },
                                expression: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "x",
                                            span: Span {
                                                start: 2236,
                                                end: 2237,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "<=",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                3,
                                            ),
                                            Span {
                                                start: 2241,
                                                end: 2242,
                                            },
                                        ),
                                    ],
                                    is_cast: false,
                                    span: Span {
                                        start: 2236,
                                        end: 2242,
                                    },
                                },
                                preceding_blank_line: false,
                            },
                        ],
                        span: Span {
                            start: 2235,
                            end: 2243,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 2244,
                                end: 2254,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "y",
                                                span: Span {
                                                    start: 2261,
                                                    end: 2262,
                                                },
                                            },
                                        ),
                                        value: Literal(
                                            Integer(
                                                1,
                                            ),
                                            Span {
                                                start: 2266,
                                                end: 2267,
                                            },
                                        ),
                                        span: Span {
                                            start: 2261,
                                            end: 2267,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: MessageSend {
                                        receiver: Block(
                                            Block {
                                                parameters: [],
                                                body: [
                                                    ExpressionStatement {
                                                        comments: CommentAttachment {
                                                            leading: [],
                                                            trailing: None,
                                                        },
                                                        expression: MessageSend {
                                                            receiver: Identifier(
                                                                Identifier {
                                                                    name: "y",
                                                                    span: Span {
                                                                        start: 2274,
                                                                        end: 2275,
                                                                    },
                                                                },
                                                            ),
                                                            selector: Binary(
                                                                "<=",
                                                            ),
                                                            arguments: [
                                                                Literal(
                                                                    Integer(
                                                                        2,
                                                                    ),
                                                                    Span {
                                                                        start: 2279,
                                                                        end: 2280,
                                                                    },
                                                                ),
                                                            ],
                                                            is_cast: false,
                                                            span: Span {
                                                                start: 2274,
                                                                end: 2280,
                                                            },
                                                        },
                                                        preceding_blank_line: false,
                                                    },
                                                ],
                                                span: Span {
                                                    start: 2273,
                                                    end: 2281,
                                                },
                                            },
                                        ),
                                        selector: Keyword(
                                            [
                                                KeywordPart {
                                                    keyword: "whileTrue:",
                                                    span: Span {
                                                        start: 2282,
                                                        end: 2292,
                                                    },
                                                },
                                            ],
                                        ),
                                        arguments: [
                                            Block(
                                                Block {
                                                    parameters: [],
                                                    body: [
                                                        ExpressionStatement {
                                                            comments: CommentAttachment {
                                                                leading: [],
                                                                trailing: None,
                                                            },
                                                            expression: Assignment {
                                                                target: Identifier(
                                                                    Identifier {
                                                                        name: "innerSum",
                                                                        span: Span {
                                                                            start: 2303,
                                                                            end: 2311,
                                                                        },
                                                                    },
                                                                ),
                                                                value: MessageSend {
                                                                    receiver: Identifier(
                                                                        Identifier {
                                                                            name: "innerSum",
                                                                            span: Span {
                                                                                start: 2315,
                                                                                end: 2323,
                                                                            },
                                                                        },
                                                                    ),
                                                                    selector: Binary(
                                                                        "+",
                                                                    ),
                                                                    arguments: [
                                                                        Literal(
                                                                            Integer(
                                                                                1,
                                                                            ),
                                                                            Span {
                                                                                start: 2326,
                                                                                end: 2327,
                                                                            },
                                                                        ),
                                                                    ],
                                                                    is_cast: false,
                                                                    span: Span {
                                                                        start: 2315,
                                                                        end: 2327,
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 2303,
                                                                    end: 2327,
                                                                },
                                                            },
                                                            preceding_blank_line: false,
                                                        },
                                                        ExpressionStatement {
                                                            comments: CommentAttachment {
                                                                leading: [],
                                                                trailing: None,
                                                            },
                                                            expression: Assignment {
                                                                target: Identifier(
                                                                    Identifier {
                                                                        name: "y",
                                                                        span: Span {
                                                                            start: 2337,
                                                                            end: 2338,
                                                                        },
                                                                    },
                                                                ),
                                                                value: MessageSend {
                                                                    receiver: Identifier(
                                                                        Identifier {
                                                                            name: "y",
                                                                            span: Span {
                                                                                start: 2342,
                                                                                end: 2343,
                                                                            },
                                                                        },
                                                                    ),
                                                                    selector: Binary(
                                                                        "+",
                                                                    ),
                                                                    arguments: [
                                                                        Literal(
                                                                            Integer(
                                                                                1,
                                                                            ),
                                                                            Span {
                                                                                start: 2346,
                                                                                end: 2347,
                                                                            },
                                                                        ),
                                                                    ],
                                                                    is_cast: false,
                                                                    span: Span {
                                                                        start: 2342,
                                                                        end: 2347,
                                                                    },
                                                                },
                                                                span: Span {
                                                                    start: 2337,
                                                                    end: 2347,
                                                                },
                                                            },
                                                            preceding_blank_line: false,
                                                        },
                                                    ],
                                                    span: Span {
                                                        start: 2293,
                                                        end: 2353,
                                                    },
                                                },
                                            ),
                                        ],
                                        is_cast: false,
                                        span: Span {
                                            start: 2273,
                                            end: 2353,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "outerSum",
                                                span: Span {
                                                    start: 2359,
                                                    end: 2367,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "outerSum",
                                                    span: Span {
                                                        start: 2371,
                                                        end: 2379,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Identifier(
                                                    Identifier {
                                                        name: "innerSum",
                                                        span: Span {
                                                            start: 2382,
                                                            end: 2390,
                                                        },
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 2371,
                                                end: 2390,
                                            },
                                        },
                                        span: Span {
                                            start: 2359,
                                            end: 2390,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "x",
                                                span: Span {
                                                    start: 2396,
                                                    end: 2397,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "x",
                                                    span: Span {
                                                        start: 2401,
                                                        end: 2402,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 2405,
                                                        end: 2406,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 2401,
                                                end: 2406,
                                            },
                                        },
                                        span: Span {
                                            start: 2396,
                                            end: 2406,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 2255,
                                end: 2408,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 2235,
                    end: 2408,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Expected: innerSum = 6, outerSum = (2 + 4 + 6) = 12",
                        span: Span {
                            start: 2588,
                            end: 2595,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 2588,
                            end: 2595,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Field Mutations (Actor State)",
                        span: Span {
                            start: 2588,
                            end: 2595,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "========================================",
                        span: Span {
                            start: 2588,
                            end: 2595,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                ],
                trailing: None,
            },
            expression: Error {
                message: "Invalid assignment target",
                span: Span {
                    start: 2588,
                    end: 2595,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 2636,
                    end: 2637,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: MessageSend {
                    receiver: Error {
                        message: "Unexpected token: expected expression, found .",
                        span: Span {
                            start: 2673,
                            end: 2674,
                        },
                    },
                    selector: Unary(
                        "value",
                    ),
                    arguments: [],
                    is_cast: false,
                    span: Span {
                        start: 2673,
                        end: 2679,
                    },
                },
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            10,
                        ),
                        Span {
                            start: 2682,
                            end: 2684,
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 2673,
                    end: 2684,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found ]",
                    span: Span {
                        start: 2684,
                        end: 2685,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 2686,
                                end: 2696,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: FieldAccess {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "self",
                                                    span: Span {
                                                        start: 2711,
                                                        end: 2715,
                                                    },
                                                },
                                            ),
                                            field: Identifier {
                                                name: "value",
                                                span: Span {
                                                    start: 2716,
                                                    end: 2721,
                                                },
                                            },
                                            span: Span {
                                                start: 2711,
                                                end: 2721,
                                            },
                                        },
                                        value: MessageSend {
                                            receiver: FieldAccess {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "self",
                                                        span: Span {
                                                            start: 2725,
                                                            end: 2729,
                                                        },
                                                    },
                                                ),
                                                field: Identifier {
                                                    name: "value",
                                                    span: Span {
                                                        start: 2730,
                                                        end: 2735,
                                                    },
                                                },
                                                span: Span {
                                                    start: 2725,
                                                    end: 2735,
                                                },
                                            },
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 2738,
                                                        end: 2739,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 2725,
                                                end: 2739,
                                            },
                                        },
                                        span: Span {
                                            start: 2711,
                                            end: 2739,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 2697,
                                end: 2749,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 2684,
                    end: 2749,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Return {
                value: FieldAccess {
                    receiver: Identifier(
                        Identifier {
                            name: "self",
                            span: Span {
                                start: 2760,
                                end: 2764,
                            },
                        },
                    ),
                    field: Identifier {
                        name: "value",
                        span: Span {
                            start: 2765,
                            end: 2770,
                        },
                    },
                    span: Span {
                        start: 2760,
                        end: 2770,
                    },
                },
                span: Span {
                    start: 2759,
                    end: 2770,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found incrementBy:",
                    span: Span {
                        start: 2781,
                        end: 2793,
                    },
                },
                selector: Unary(
                    "amount",
                ),
                arguments: [],
                is_cast: false,
                span: Span {
                    start: 2781,
                    end: 2800,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found =>",
                span: Span {
                    start: 2801,
                    end: 2803,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Invalid assignment target",
                span: Span {
                    start: 2850,
                    end: 2856,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: MessageSend {
                    receiver: Error {
                        message: "Unexpected token: expected expression, found .",
                        span: Span {
                            start: 2864,
                            end: 2865,
                        },
                    },
                    selector: Unary(
                        "value",
                    ),
                    arguments: [],
                    is_cast: false,
                    span: Span {
                        start: 2864,
                        end: 2870,
                    },
                },
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            1,
                        ),
                        Span {
                            start: 2873,
                            end: 2874,
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 2864,
                    end: 2874,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 2883,
                    end: 2884,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Return {
                value: FieldAccess {
                    receiver: Identifier(
                        Identifier {
                            name: "self",
                            span: Span {
                                start: 2895,
                                end: 2899,
                            },
                        },
                    ),
                    field: Identifier {
                        name: "value",
                        span: Span {
                            start: 2900,
                            end: 2905,
                        },
                    },
                    span: Span {
                        start: 2895,
                        end: 2905,
                    },
                },
                span: Span {
                    start: 2894,
                    end: 2905,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Identifier(
                Identifier {
                    name: "multiplyFieldWithLoop",
                    span: Span {
                        start: 2916,
                        end: 2937,
                    },
                },
            ),
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found =>",
                span: Span {
                    start: 2938,
                    end: 2940,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 2960,
                    end: 2961,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: MessageSend {
                    receiver: Error {
                        message: "Unexpected token: expected expression, found .",
                        span: Span {
                            start: 2974,
                            end: 2975,
                        },
                    },
                    selector: Unary(
                        "value",
                    ),
                    arguments: [],
                    is_cast: false,
                    span: Span {
                        start: 2974,
                        end: 2980,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "timesRepeat:",
                            span: Span {
                                start: 2981,
                                end: 2993,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "result",
                                                span: Span {
                                                    start: 3008,
                                                    end: 3014,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "result",
                                                    span: Span {
                                                        start: 3018,
                                                        end: 3024,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "*",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        2,
                                                    ),
                                                    Span {
                                                        start: 3027,
                                                        end: 3028,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 3018,
                                                end: 3028,
                                            },
                                        },
                                        span: Span {
                                            start: 3008,
                                            end: 3028,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 2994,
                                end: 3038,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 2974,
                    end: 3038,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Assignment {
                target: FieldAccess {
                    receiver: Identifier(
                        Identifier {
                            name: "self",
                            span: Span {
                                start: 3048,
                                end: 3052,
                            },
                        },
                    ),
                    field: Identifier {
                        name: "result",
                        span: Span {
                            start: 3053,
                            end: 3059,
                        },
                    },
                    span: Span {
                        start: 3048,
                        end: 3059,
                    },
                },
                value: Identifier(
                    Identifier {
                        name: "result",
                        span: Span {
                            start: 3063,
                            end: 3069,
                        },
                    },
                ),
                span: Span {
                    start: 3048,
                    end: 3069,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Return {
                value: Identifier(
                    Identifier {
                        name: "result",
                        span: Span {
                            start: 3080,
                            end: 3086,
                        },
                    },
                ),
                span: Span {
                    start: 3079,
                    end: 3086,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Identifier(
                Identifier {
                    name: "complexMutation",
                    span: Span {
                        start: 3097,
                        end: 3112,
                    },
                },
            ),
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found =>",
                span: Span {
                    start: 3113,
                    end: 3115,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 3177,
                    end: 3178,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: MessageSend {
                    receiver: Error {
                        message: "Unexpected token: expected expression, found .",
                        span: Span {
                            start: 3192,
                            end: 3193,
                        },
                    },
                    selector: Unary(
                        "value",
                    ),
                    arguments: [],
                    is_cast: false,
                    span: Span {
                        start: 3192,
                        end: 3198,
                    },
                },
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 3201,
                            end: 3202,
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 3192,
                    end: 3202,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found ]",
                    span: Span {
                        start: 3202,
                        end: 3203,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 3204,
                                end: 3214,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: FieldAccess {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "self",
                                                    span: Span {
                                                        start: 3229,
                                                        end: 3233,
                                                    },
                                                },
                                            ),
                                            field: Identifier {
                                                name: "value",
                                                span: Span {
                                                    start: 3234,
                                                    end: 3239,
                                                },
                                            },
                                            span: Span {
                                                start: 3229,
                                                end: 3239,
                                            },
                                        },
                                        value: MessageSend {
                                            receiver: FieldAccess {
                                                receiver: Identifier(
                                                    Identifier {
                                                        name: "self",
                                                        span: Span {
                                                            start: 3243,
                                                            end: 3247,
                                                        },
                                                    },
                                                ),
                                                field: Identifier {
                                                    name: "value",
                                                    span: Span {
                                                        start: 3248,
                                                        end: 3253,
                                                    },
                                                },
                                                span: Span {
                                                    start: 3243,
                                                    end: 3253,
                                                },
                                            },
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 3256,
                                                        end: 3257,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 3243,
                                                end: 3257,
                                            },
                                        },
                                        span: Span {
                                            start: 3229,
                                            end: 3257,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "temp",
                                                span: Span {
                                                    start: 3271,
                                                    end: 3275,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "temp",
                                                    span: Span {
                                                        start: 3279,
                                                        end: 3283,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                FieldAccess {
                                                    receiver: Identifier(
                                                        Identifier {
                                                            name: "self",
                                                            span: Span {
                                                                start: 3286,
                                                                end: 3290,
                                                            },
                                                        },
                                                    ),
                                                    field: Identifier {
                                                        name: "value",
                                                        span: Span {
                                                            start: 3291,
                                                            end: 3296,
                                                        },
                                                    },
                                                    span: Span {
                                                        start: 3286,
                                                        end: 3296,
                                                    },
                                                },
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 3279,
                                                end: 3296,
                                            },
                                        },
                                        span: Span {
                                            start: 3271,
                                            end: 3296,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 3215,
                                end: 3306,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 3202,
                    end: 3306,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Return {
                value: Identifier(
                    Identifier {
                        name: "temp",
                        span: Span {
                            start: 3317,
                            end: 3321,
                        },
                    },
                ),
                span: Span {
                    start: 3316,
                    end: 3321,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found state:",
                    span: Span {
                        start: 3332,
                        end: 3338,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "result:",
                            span: Span {
                                start: 3339,
                                end: 3346,
                            },
                        },
                    ],
                ),
                arguments: [
                    MessageSend {
                        receiver: ClassReference {
                            name: Identifier {
                                name: "Integer",
                                span: Span {
                                    start: 3347,
                                    end: 3354,
                                },
                            },
                            span: Span {
                                start: 3347,
                                end: 3354,
                            },
                        },
                        selector: Binary(
                            "=",
                        ),
                        arguments: [
                            Literal(
                                Integer(
                                    0,
                                ),
                                Span {
                                    start: 3357,
                                    end: 3358,
                                },
                            ),
                        ],
                        is_cast: false,
                        span: Span {
                            start: 3347,
                            end: 3358,
                        },
                    },
                ],
                is_cast: false,
                span: Span {
                    start: 3332,
                    end: 3358,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 3360,
                    end: 3361,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 3547,
                    end: 3548,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 3591,
                    end: 3592,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 3678,
                    end: 3679,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: Error {
                message: "Unexpected token: expected expression, found .",
                span: Span {
                    start: 3686,
                    end: 3687,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found ]",
                    span: Span {
                        start: 3694,
                        end: 3695,
                    },
                },
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "whileTrue:",
                            span: Span {
                                start: 3696,
                                end: 3706,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "a",
                                                span: Span {
                                                    start: 3713,
                                                    end: 3714,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "a",
                                                    span: Span {
                                                        start: 3718,
                                                        end: 3719,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "+",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        1,
                                                    ),
                                                    Span {
                                                        start: 3722,
                                                        end: 3723,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 3718,
                                                end: 3723,
                                            },
                                        },
                                        span: Span {
                                            start: 3713,
                                            end: 3723,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                                ExpressionStatement {
                                    comments: CommentAttachment {
                                        leading: [],
                                        trailing: None,
                                    },
                                    expression: Assignment {
                                        target: Identifier(
                                            Identifier {
                                                name: "b",
                                                span: Span {
                                                    start: 3729,
                                                    end: 3730,
                                                },
                                            },
                                        ),
                                        value: MessageSend {
                                            receiver: Identifier(
                                                Identifier {
                                                    name: "b",
                                                    span: Span {
                                                        start: 3734,
                                                        end: 3735,
                                                    },
                                                },
                                            ),
                                            selector: Binary(
                                                "*",
                                            ),
                                            arguments: [
                                                Literal(
                                                    Integer(
                                                        2,
                                                    ),
                                                    Span {
                                                        start: 3738,
                                                        end: 3739,
                                                    },
                                                ),
                                            ],
                                            is_cast: false,
                                            span: Span {
                                                start: 3734,
                                                end: 3739,
                                            },
                                        },
                                        span: Span {
                                            start: 3729,
                                            end: 3739,
                                        },
                                    },
                                    preceding_blank_line: false,
                                },
                            ],
                            span: Span {
                                start: 3707,
                                end: 3741,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 3694,
                    end: 3741,
                },
            },
            preceding_blank_line: false,
        },
    ],
    span: Span {
        start: 376,
        end: 3742,
    },
    file_leading_comments: [],
    file_trailing_comments: [
        Comment {
            content: "REPL should show: a = 5, b = 32",
            span: Span {
                start: 3778,
                end: 3778,
            },
            kind: Line,
            preceding_blank_line: false,
        },
    ],
}

Diagnostics:
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 687, end: 688 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 715, end: 716 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 1606, end: 1607 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 1783, end: 1784 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 1987, end: 1988 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 2267, end: 2268 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 2327, end: 2328 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 2353, end: 2354 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 2390, end: 2391 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Error, message: "Assignment target must be an identifier or field access", span: Span { start: 2588, end: 2595 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2636, end: 2637 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2673, end: 2674 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 2684, end: 2685 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found incrementBy:", span: Span { start: 2781, end: 2793 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found =>", span: Span { start: 2801, end: 2803 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2850, end: 2851 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Assignment target must be an identifier or field access", span: Span { start: 2850, end: 2856 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2864, end: 2865 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 2883, end: 2884 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found =>", span: Span { start: 2938, end: 2940 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2960, end: 2961 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 2974, end: 2975 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found =>", span: Span { start: 3113, end: 3115 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 3177, end: 3178 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 3192, end: 3193 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 3202, end: 3203 }, hint: None, category: None }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 3257, end: 3258 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found state:", span: Span { start: 3332, end: 3338 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 3360, end: 3361 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 3547, end: 3548 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 3591, end: 3592 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 3678, end: 3679 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found .", span: Span { start: 3686, end: 3687 }, hint: None, category: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 3694, end: 3695 }, hint: None, category: None }
Diagnostic { severity: Lint, message: "unnecessary `.`  the following newline already separates statements", span: Span { start: 3723, end: 3724 }, hint: Some("Remove the `.` and rely on the newline"), category: Some(Lint) }
