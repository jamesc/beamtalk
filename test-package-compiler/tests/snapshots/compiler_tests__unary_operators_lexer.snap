---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
Token { kind: Identifier("negatedNum"), span: Span { start: 268, end: 278 }, leading_trivia: [LineComment("// Copyright 2026 James Casey"), Whitespace("\n"), LineComment("// SPDX-License-Identifier: Apache-2.0"), Whitespace("\n\n"), LineComment("// Test all unary operators/messages for compilation verification"), Whitespace("\n"), LineComment("// Comprehensive coverage of unary operations supported in Core Erlang codegen"), Whitespace("\n\n"), LineComment("// ===== Integer Unary Operations ====="), Whitespace("\n"), LineComment("// Negation"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 279, end: 281 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 282, end: 283 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("negated"), span: Span { start: 284, end: 291 }, leading_trivia: [], trailing_trivia: [Whitespace("  "), LineComment("// Should generate: call \"erlang\":\"-\"(0, 5)")] }
Token { kind: Identifier("absValue"), span: Span { start: 356, end: 364 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Absolute value"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 365, end: 367 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftParen, span: Span { start: 368, end: 369 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("-10"), span: Span { start: 369, end: 372 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightParen, span: Span { start: 372, end: 373 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("abs"), span: Span { start: 374, end: 377 }, leading_trivia: [], trailing_trivia: [Whitespace("  "), LineComment("// Should generate case expression for abs")] }
Token { kind: Identifier("isZero1"), span: Span { start: 436, end: 443 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Zero test"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 444, end: 446 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 447, end: 448 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isZero"), span: Span { start: 449, end: 455 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isZero2"), span: Span { start: 456, end: 463 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 464, end: 466 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("42"), span: Span { start: 467, end: 469 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isZero"), span: Span { start: 470, end: 476 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("evenCheck"), span: Span { start: 496, end: 505 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Even/Odd tests"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 506, end: 508 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("4"), span: Span { start: 509, end: 510 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isEven"), span: Span { start: 511, end: 517 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("oddCheck"), span: Span { start: 518, end: 526 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 527, end: 529 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("7"), span: Span { start: 530, end: 531 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isOdd"), span: Span { start: 532, end: 537 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("notTrue"), span: Span { start: 594, end: 601 }, leading_trivia: [Whitespace("\n\n"), LineComment("// ===== Boolean Unary Operations ====="), Whitespace("\n"), LineComment("// Logical NOT"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 602, end: 604 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("true"), span: Span { start: 605, end: 609 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("not"), span: Span { start: 610, end: 613 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("notFalse"), span: Span { start: 614, end: 622 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 623, end: 625 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("false"), span: Span { start: 626, end: 631 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("not"), span: Span { start: 632, end: 635 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("chained"), span: Span { start: 704, end: 711 }, leading_trivia: [Whitespace("\n\n"), LineComment("// ===== Complex Unary Expressions ====="), Whitespace("\n"), LineComment("// Chained unary messages"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 712, end: 714 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 715, end: 716 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("negated"), span: Span { start: 717, end: 724 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("abs"), span: Span { start: 725, end: 728 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 776, end: 783 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Unary in conditional with defined variable"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 784, end: 786 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 787, end: 788 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("result"), span: Span { start: 789, end: 795 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 796, end: 798 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftParen, span: Span { start: 799, end: 800 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 800, end: 807 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isZero"), span: Span { start: 808, end: 814 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightParen, span: Span { start: 814, end: 815 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("ifTrue:"), span: Span { start: 816, end: 823 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 824, end: 825 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("0"), span: Span { start: 825, end: 826 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 826, end: 827 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("ifFalse:"), span: Span { start: 828, end: 836 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 837, end: 838 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 838, end: 845 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 845, end: 846 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("blockUnary"), span: Span { start: 878, end: 888 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Unary with block parameter"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 889, end: 891 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 892, end: 893 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 893, end: 894 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("x"), span: Span { start: 894, end: 895 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 896, end: 897 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("x"), span: Span { start: 898, end: 899 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("negated"), span: Span { start: 900, end: 907 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 907, end: 908 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Eof, span: Span { start: 909, end: 909 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [] }
