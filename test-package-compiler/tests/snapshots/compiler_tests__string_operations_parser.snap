---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greeting",
                    span: Span {
                        start: 177,
                        end: 185,
                    },
                },
            ),
            value: Literal(
                String(
                    "Hello",
                ),
                Span {
                    start: 189,
                    end: 196,
                },
            ),
            span: Span {
                start: 177,
                end: 196,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "name",
                    span: Span {
                        start: 197,
                        end: 201,
                    },
                },
            ),
            value: Literal(
                String(
                    "World",
                ),
                Span {
                    start: 205,
                    end: 212,
                },
            ),
            span: Span {
                start: 197,
                end: 212,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "message",
                    span: Span {
                        start: 213,
                        end: 220,
                    },
                },
            ),
            value: MessageSend {
                receiver: MessageSend {
                    receiver: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "greeting",
                                span: Span {
                                    start: 224,
                                    end: 232,
                                },
                            },
                        ),
                        selector: Binary(
                            "++",
                        ),
                        arguments: [
                            Literal(
                                String(
                                    ", ",
                                ),
                                Span {
                                    start: 236,
                                    end: 240,
                                },
                            ),
                        ],
                        span: Span {
                            start: 224,
                            end: 240,
                        },
                    },
                    selector: Binary(
                        "++",
                    ),
                    arguments: [
                        Identifier(
                            Identifier {
                                name: "name",
                                span: Span {
                                    start: 244,
                                    end: 248,
                                },
                            },
                        ),
                    ],
                    span: Span {
                        start: 224,
                        end: 248,
                    },
                },
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            "!",
                        ),
                        Span {
                            start: 252,
                            end: 255,
                        },
                    ),
                ],
                span: Span {
                    start: 224,
                    end: 255,
                },
            },
            span: Span {
                start: 213,
                end: 255,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "len",
                    span: Span {
                        start: 286,
                        end: 289,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "greeting",
                        span: Span {
                            start: 293,
                            end: 301,
                        },
                    },
                ),
                selector: Unary(
                    "length",
                ),
                arguments: [],
                span: Span {
                    start: 293,
                    end: 308,
                },
            },
            span: Span {
                start: 286,
                end: 308,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEqual",
                    span: Span {
                        start: 343,
                        end: 350,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 354,
                        end: 361,
                    },
                ),
                selector: Binary(
                    "=:=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 366,
                            end: 373,
                        },
                    ),
                ],
                span: Span {
                    start: 354,
                    end: 373,
                },
            },
            span: Span {
                start: 343,
                end: 373,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "notEqual",
                    span: Span {
                        start: 374,
                        end: 382,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 386,
                        end: 393,
                    },
                ),
                selector: Binary(
                    "/=",
                ),
                arguments: [
                    Literal(
                        String(
                            "world",
                        ),
                        Span {
                            start: 397,
                            end: 404,
                        },
                    ),
                ],
                span: Span {
                    start: 386,
                    end: 404,
                },
            },
            span: Span {
                start: 374,
                end: 404,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isLess",
                    span: Span {
                        start: 405,
                        end: 411,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "apple",
                    ),
                    Span {
                        start: 415,
                        end: 422,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        String(
                            "banana",
                        ),
                        Span {
                            start: 425,
                            end: 433,
                        },
                    ),
                ],
                span: Span {
                    start: 415,
                    end: 433,
                },
            },
            span: Span {
                start: 405,
                end: 433,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isGreater",
                    span: Span {
                        start: 434,
                        end: 443,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "zebra",
                    ),
                    Span {
                        start: 447,
                        end: 454,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        String(
                            "apple",
                        ),
                        Span {
                            start: 457,
                            end: 464,
                        },
                    ),
                ],
                span: Span {
                    start: 447,
                    end: 464,
                },
            },
            span: Span {
                start: 434,
                end: 464,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "upper",
                    span: Span {
                        start: 508,
                        end: 513,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "greeting",
                        span: Span {
                            start: 517,
                            end: 525,
                        },
                    },
                ),
                selector: Unary(
                    "uppercase",
                ),
                arguments: [],
                span: Span {
                    start: 517,
                    end: 535,
                },
            },
            span: Span {
                start: 508,
                end: 535,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lower",
                    span: Span {
                        start: 536,
                        end: 541,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "upper",
                        span: Span {
                            start: 545,
                            end: 550,
                        },
                    },
                ),
                selector: Unary(
                    "lowercase",
                ),
                arguments: [],
                span: Span {
                    start: 545,
                    end: 560,
                },
            },
            span: Span {
                start: 536,
                end: 560,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "padded",
                    span: Span {
                        start: 593,
                        end: 599,
                    },
                },
            ),
            value: Literal(
                String(
                    "  hello  ",
                ),
                Span {
                    start: 603,
                    end: 614,
                },
            ),
            span: Span {
                start: 593,
                end: 614,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "trimmed",
                    span: Span {
                        start: 615,
                        end: 622,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "padded",
                        span: Span {
                            start: 626,
                            end: 632,
                        },
                    },
                ),
                selector: Unary(
                    "trim",
                ),
                arguments: [],
                span: Span {
                    start: 626,
                    end: 637,
                },
            },
            span: Span {
                start: 615,
                end: 637,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "empty",
                    span: Span {
                        start: 684,
                        end: 689,
                    },
                },
            ),
            value: Literal(
                String(
                    "",
                ),
                Span {
                    start: 693,
                    end: 695,
                },
            ),
            span: Span {
                start: 684,
                end: 695,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEmpty",
                    span: Span {
                        start: 696,
                        end: 703,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "empty",
                        span: Span {
                            start: 707,
                            end: 712,
                        },
                    },
                ),
                selector: Unary(
                    "isEmpty",
                ),
                arguments: [],
                span: Span {
                    start: 707,
                    end: 720,
                },
            },
            span: Span {
                start: 696,
                end: 720,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isNotEmpty",
                    span: Span {
                        start: 721,
                        end: 731,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 735,
                            end: 742,
                        },
                    },
                ),
                selector: Unary(
                    "isNotEmpty",
                ),
                arguments: [],
                span: Span {
                    start: 735,
                    end: 753,
                },
            },
            span: Span {
                start: 721,
                end: 753,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "firstChar",
                    span: Span {
                        start: 813,
                        end: 822,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 826,
                        end: 833,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "at:",
                            span: Span {
                                start: 834,
                                end: 837,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        Integer(
                            1,
                        ),
                        Span {
                            start: 838,
                            end: 839,
                        },
                    ),
                ],
                span: Span {
                    start: 826,
                    end: 839,
                },
            },
            span: Span {
                start: 813,
                end: 839,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "thirdChar",
                    span: Span {
                        start: 840,
                        end: 849,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 853,
                        end: 860,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "at:",
                            span: Span {
                                start: 861,
                                end: 864,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 865,
                            end: 866,
                        },
                    ),
                ],
                span: Span {
                    start: 853,
                    end: 866,
                },
            },
            span: Span {
                start: 840,
                end: 866,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "found",
                    span: Span {
                        start: 908,
                        end: 913,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 917,
                            end: 924,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "includes:",
                            span: Span {
                                start: 925,
                                end: 934,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "World",
                        ),
                        Span {
                            start: 935,
                            end: 942,
                        },
                    ),
                ],
                span: Span {
                    start: 917,
                    end: 942,
                },
            },
            span: Span {
                start: 908,
                end: 942,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "notFound",
                    span: Span {
                        start: 943,
                        end: 951,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 955,
                            end: 962,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "includes:",
                            span: Span {
                                start: 963,
                                end: 972,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "xyz",
                        ),
                        Span {
                            start: 973,
                            end: 978,
                        },
                    ),
                ],
                span: Span {
                    start: 955,
                    end: 978,
                },
            },
            span: Span {
                start: 943,
                end: 978,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "starts",
                    span: Span {
                        start: 1023,
                        end: 1029,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 1033,
                            end: 1040,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "startsWith:",
                            span: Span {
                                start: 1041,
                                end: 1052,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "Hello",
                        ),
                        Span {
                            start: 1053,
                            end: 1060,
                        },
                    ),
                ],
                span: Span {
                    start: 1033,
                    end: 1060,
                },
            },
            span: Span {
                start: 1023,
                end: 1060,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "ends",
                    span: Span {
                        start: 1061,
                        end: 1065,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 1069,
                            end: 1076,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "endsWith:",
                            span: Span {
                                start: 1077,
                                end: 1086,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "!",
                        ),
                        Span {
                            start: 1087,
                            end: 1090,
                        },
                    ),
                ],
                span: Span {
                    start: 1069,
                    end: 1090,
                },
            },
            span: Span {
                start: 1061,
                end: 1090,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "csv",
                    span: Span {
                        start: 1124,
                        end: 1127,
                    },
                },
            ),
            value: Literal(
                String(
                    "a,b,c,d",
                ),
                Span {
                    start: 1131,
                    end: 1140,
                },
            ),
            span: Span {
                start: 1124,
                end: 1140,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "parts",
                    span: Span {
                        start: 1141,
                        end: 1146,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "csv",
                        span: Span {
                            start: 1150,
                            end: 1153,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "split:",
                            span: Span {
                                start: 1154,
                                end: 1160,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            ",",
                        ),
                        Span {
                            start: 1161,
                            end: 1164,
                        },
                    ),
                ],
                span: Span {
                    start: 1150,
                    end: 1164,
                },
            },
            span: Span {
                start: 1141,
                end: 1164,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "reversed",
                    span: Span {
                        start: 1196,
                        end: 1204,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 1208,
                        end: 1215,
                    },
                ),
                selector: Unary(
                    "reverse",
                ),
                arguments: [],
                span: Span {
                    start: 1208,
                    end: 1223,
                },
            },
            span: Span {
                start: 1196,
                end: 1223,
            },
        },
    ],
    span: Span {
        start: 177,
        end: 1223,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 177,
                end: 185,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 177,
                end: 185,
            },
            kind: Line,
        },
        Comment {
            content: "// Test string operations - comprehensive coverage of string messages",
            span: Span {
                start: 177,
                end: 185,
            },
            kind: Line,
        },
        Comment {
            content: "// ===== String Concatenation =====",
            span: Span {
                start: 177,
                end: 185,
            },
            kind: Line,
        },
    ],
}
