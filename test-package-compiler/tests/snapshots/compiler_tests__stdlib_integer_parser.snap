---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "sum",
                    span: Span {
                        start: 133,
                        end: 136,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        5,
                    ),
                    Span {
                        start: 140,
                        end: 141,
                    },
                ),
                selector: Binary(
                    "+",
                ),
                arguments: [
                    Literal(
                        Integer(
                            3,
                        ),
                        Span {
                            start: 144,
                            end: 145,
                        },
                    ),
                ],
                span: Span {
                    start: 140,
                    end: 145,
                },
            },
            span: Span {
                start: 133,
                end: 145,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "difference",
                    span: Span {
                        start: 146,
                        end: 156,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 160,
                        end: 162,
                    },
                ),
                selector: Binary(
                    "-",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 165,
                            end: 166,
                        },
                    ),
                ],
                span: Span {
                    start: 160,
                    end: 166,
                },
            },
            span: Span {
                start: 146,
                end: 166,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "product",
                    span: Span {
                        start: 167,
                        end: 174,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        6,
                    ),
                    Span {
                        start: 178,
                        end: 179,
                    },
                ),
                selector: Binary(
                    "*",
                ),
                arguments: [
                    Literal(
                        Integer(
                            7,
                        ),
                        Span {
                            start: 182,
                            end: 183,
                        },
                    ),
                ],
                span: Span {
                    start: 178,
                    end: 183,
                },
            },
            span: Span {
                start: 167,
                end: 183,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "quotient",
                    span: Span {
                        start: 184,
                        end: 192,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        20,
                    ),
                    Span {
                        start: 196,
                        end: 198,
                    },
                ),
                selector: Binary(
                    "/",
                ),
                arguments: [
                    Literal(
                        Integer(
                            4,
                        ),
                        Span {
                            start: 201,
                            end: 202,
                        },
                    ),
                ],
                span: Span {
                    start: 196,
                    end: 202,
                },
            },
            span: Span {
                start: 184,
                end: 202,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "intDiv",
                    span: Span {
                        start: 254,
                        end: 260,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 264,
                        end: 266,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "div:",
                            span: Span {
                                start: 267,
                                end: 271,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 272,
                            end: 273,
                        },
                    ),
                ],
                span: Span {
                    start: 264,
                    end: 273,
                },
            },
            span: Span {
                start: 254,
                end: 273,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "remainder",
                    span: Span {
                        start: 274,
                        end: 283,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 287,
                        end: 289,
                    },
                ),
                selector: Binary(
                    "%",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 292,
                            end: 293,
                        },
                    ),
                ],
                span: Span {
                    start: 287,
                    end: 293,
                },
            },
            span: Span {
                start: 274,
                end: 293,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "modResult",
                    span: Span {
                        start: 294,
                        end: 303,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        17,
                    ),
                    Span {
                        start: 307,
                        end: 309,
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "mod:",
                            span: Span {
                                start: 310,
                                end: 314,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 315,
                            end: 316,
                        },
                    ),
                ],
                span: Span {
                    start: 307,
                    end: 316,
                },
            },
            span: Span {
                start: 294,
                end: 316,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isLess",
                    span: Span {
                        start: 332,
                        end: 338,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 342,
                        end: 343,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 346,
                            end: 347,
                        },
                    ),
                ],
                span: Span {
                    start: 342,
                    end: 347,
                },
            },
            span: Span {
                start: 332,
                end: 347,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isGreater",
                    span: Span {
                        start: 348,
                        end: 357,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 361,
                        end: 363,
                    },
                ),
                selector: Binary(
                    ">",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 366,
                            end: 367,
                        },
                    ),
                ],
                span: Span {
                    start: 361,
                    end: 367,
                },
            },
            span: Span {
                start: 348,
                end: 367,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEqual",
                    span: Span {
                        start: 368,
                        end: 375,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        7,
                    ),
                    Span {
                        start: 379,
                        end: 380,
                    },
                ),
                selector: Binary(
                    "=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            7,
                        ),
                        Span {
                            start: 383,
                            end: 384,
                        },
                    ),
                ],
                span: Span {
                    start: 379,
                    end: 384,
                },
            },
            span: Span {
                start: 368,
                end: 384,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isNotEqual",
                    span: Span {
                        start: 385,
                        end: 395,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        3,
                    ),
                    Span {
                        start: 399,
                        end: 400,
                    },
                ),
                selector: Binary(
                    "~=",
                ),
                arguments: [
                    Literal(
                        Integer(
                            5,
                        ),
                        Span {
                            start: 404,
                            end: 405,
                        },
                    ),
                ],
                span: Span {
                    start: 399,
                    end: 405,
                },
            },
            span: Span {
                start: 385,
                end: 405,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "counter",
                    span: Span {
                        start: 435,
                        end: 442,
                    },
                },
            ),
            value: Literal(
                Integer(
                    0,
                ),
                Span {
                    start: 446,
                    end: 447,
                },
            ),
            span: Span {
                start: 435,
                end: 447,
            },
        },
        MessageSend {
            receiver: Literal(
                Integer(
                    5,
                ),
                Span {
                    start: 448,
                    end: 449,
                },
            ),
            selector: Keyword(
                [
                    KeywordPart {
                        keyword: "timesRepeat:",
                        span: Span {
                            start: 450,
                            end: 462,
                        },
                    },
                ],
            ),
            arguments: [
                Block(
                    Block {
                        parameters: [],
                        body: [
                            Assignment {
                                target: Identifier(
                                    Identifier {
                                        name: "counter",
                                        span: Span {
                                            start: 464,
                                            end: 471,
                                        },
                                    },
                                ),
                                value: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "counter",
                                            span: Span {
                                                start: 475,
                                                end: 482,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "+",
                                    ),
                                    arguments: [
                                        Literal(
                                            Integer(
                                                1,
                                            ),
                                            Span {
                                                start: 485,
                                                end: 486,
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 475,
                                        end: 486,
                                    },
                                },
                                span: Span {
                                    start: 464,
                                    end: 486,
                                },
                            },
                        ],
                        span: Span {
                            start: 463,
                            end: 487,
                        },
                    },
                ),
            ],
            span: Span {
                start: 448,
                end: 487,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "sum",
                    span: Span {
                        start: 508,
                        end: 511,
                    },
                },
            ),
            value: Literal(
                Integer(
                    0,
                ),
                Span {
                    start: 515,
                    end: 516,
                },
            ),
            span: Span {
                start: 508,
                end: 516,
            },
        },
        MessageSend {
            receiver: Literal(
                Integer(
                    1,
                ),
                Span {
                    start: 517,
                    end: 518,
                },
            ),
            selector: Keyword(
                [
                    KeywordPart {
                        keyword: "to:",
                        span: Span {
                            start: 519,
                            end: 522,
                        },
                    },
                    KeywordPart {
                        keyword: "do:",
                        span: Span {
                            start: 526,
                            end: 529,
                        },
                    },
                ],
            ),
            arguments: [
                Literal(
                    Integer(
                        10,
                    ),
                    Span {
                        start: 523,
                        end: 525,
                    },
                ),
                Block(
                    Block {
                        parameters: [
                            BlockParameter {
                                name: "n",
                                span: Span {
                                    start: 532,
                                    end: 533,
                                },
                            },
                        ],
                        body: [
                            Assignment {
                                target: Identifier(
                                    Identifier {
                                        name: "sum",
                                        span: Span {
                                            start: 536,
                                            end: 539,
                                        },
                                    },
                                ),
                                value: MessageSend {
                                    receiver: Identifier(
                                        Identifier {
                                            name: "sum",
                                            span: Span {
                                                start: 543,
                                                end: 546,
                                            },
                                        },
                                    ),
                                    selector: Binary(
                                        "+",
                                    ),
                                    arguments: [
                                        Identifier(
                                            Identifier {
                                                name: "n",
                                                span: Span {
                                                    start: 549,
                                                    end: 550,
                                                },
                                            },
                                        ),
                                    ],
                                    span: Span {
                                        start: 543,
                                        end: 550,
                                    },
                                },
                                span: Span {
                                    start: 536,
                                    end: 550,
                                },
                            },
                        ],
                        span: Span {
                            start: 530,
                            end: 551,
                        },
                    },
                ),
            ],
            span: Span {
                start: 517,
                end: 551,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEven",
                    span: Span {
                        start: 569,
                        end: 575,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        4,
                    ),
                    Span {
                        start: 579,
                        end: 580,
                    },
                ),
                selector: Unary(
                    "isEven",
                ),
                arguments: [],
                span: Span {
                    start: 579,
                    end: 587,
                },
            },
            span: Span {
                start: 569,
                end: 587,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isOdd",
                    span: Span {
                        start: 588,
                        end: 593,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        7,
                    ),
                    Span {
                        start: 597,
                        end: 598,
                    },
                ),
                selector: Unary(
                    "isOdd",
                ),
                arguments: [],
                span: Span {
                    start: 597,
                    end: 604,
                },
            },
            span: Span {
                start: 588,
                end: 604,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isZero",
                    span: Span {
                        start: 605,
                        end: 611,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    Integer(
                        0,
                    ),
                    Span {
                        start: 615,
                        end: 616,
                    },
                ),
                selector: Unary(
                    "isZero",
                ),
                arguments: [],
                span: Span {
                    start: 615,
                    end: 623,
                },
            },
            span: Span {
                start: 605,
                end: 623,
            },
        },
    ],
    span: Span {
        start: 133,
        end: 623,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 133,
                end: 136,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 133,
                end: 136,
            },
            kind: Line,
        },
        Comment {
            content: "// Test integer arithmetic and operations",
            span: Span {
                start: 133,
                end: 136,
            },
            kind: Line,
        },
        Comment {
            content: "// Basic arithmetic",
            span: Span {
                start: 133,
                end: 136,
            },
            kind: Line,
        },
    ],
}
