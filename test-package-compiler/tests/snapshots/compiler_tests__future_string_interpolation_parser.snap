---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "name",
                    span: Span {
                        start: 300,
                        end: 304,
                    },
                },
            ),
            value: Literal(
                String(
                    "Alice",
                ),
                Span {
                    start: 308,
                    end: 315,
                },
            ),
            span: Span {
                start: 300,
                end: 315,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greeting",
                    span: Span {
                        start: 316,
                        end: 324,
                    },
                },
            ),
            value: MessageSend {
                receiver: Error {
                    message: "Unexpected token: expected expression, found \"Hello, {",
                    span: Span {
                        start: 328,
                        end: 344,
                    },
                },
                selector: Unary(
                    "name",
                ),
                arguments: [],
                span: Span {
                    start: 328,
                    end: 344,
                },
            },
            span: Span {
                start: 316,
                end: 344,
            },
        },
        Error {
            message: "Unexpected token: expected expression, found }!\"",
            span: Span {
                start: 342,
                end: 344,
            },
        },
        MessageSend {
            receiver: Error {
                message: "Unexpected token: expected expression, found ]",
                span: Span {
                    start: 787,
                    end: 788,
                },
            },
            selector: Keyword(
                [
                    KeywordPart {
                        keyword: "value:",
                        span: Span {
                            start: 789,
                            end: 795,
                        },
                    },
                ],
            ),
            arguments: [
                Identifier(
                    Identifier {
                        name: "count",
                        span: Span {
                            start: 796,
                            end: 801,
                        },
                    },
                ),
            ],
            span: Span {
                start: 787,
                end: 801,
            },
        },
        Error {
            message: "Unexpected token: expected expression, found }\"",
            span: Span {
                start: 802,
                end: 803,
            },
        },
        Error {
            message: "Unexpected token: expected expression, found }",
            span: Span {
                start: 1262,
                end: 1263,
            },
        },
    ],
    span: Span {
        start: 300,
        end: 1265,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
        Comment {
            content: "// Test future feature: string interpolation",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
        Comment {
            content: "// Double-quoted strings with embedded expressions using {expr} syntax",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
        Comment {
            content: "// NOTE: This feature is not yet implemented - test documents expected behavior",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
        Comment {
            content: "// Simple variable interpolation",
            span: Span {
                start: 300,
                end: 304,
            },
            kind: Line,
        },
    ],
}

Diagnostics:
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found \"Hello, {", span: Span { start: 328, end: 344 }, hint: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found }!\"", span: Span { start: 342, end: 344 }, hint: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found ]", span: Span { start: 787, end: 788 }, hint: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found }\"", span: Span { start: 802, end: 803 }, hint: None }
Diagnostic { severity: Error, message: "Unexpected token: expected expression, found }", span: Span { start: 1262, end: 1263 }, hint: None }
