---
source: test-package-compiler/tests/compiler_tests.rs
assertion_line: 70
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "empty",
                    span: Span {
                        start: 175,
                        end: 180,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [],
                    body: [],
                    span: Span {
                        start: 184,
                        end: 186,
                    },
                },
            ),
            span: Span {
                start: 175,
                end: 186,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "emptyWithSpace",
                    span: Span {
                        start: 221,
                        end: 235,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [],
                    body: [],
                    span: Span {
                        start: 239,
                        end: 242,
                    },
                },
            ),
            span: Span {
                start: 221,
                end: 242,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "emptyWithNewlines",
                    span: Span {
                        start: 273,
                        end: 290,
                    },
                },
            ),
            value: Block(
                Block {
                    parameters: [],
                    body: [],
                    span: Span {
                        start: 294,
                        end: 298,
                    },
                },
            ),
            span: Span {
                start: 273,
                end: 298,
            },
        },
        MessageSend {
            receiver: Identifier(
                Identifier {
                    name: "collection",
                    span: Span {
                        start: 332,
                        end: 342,
                    },
                },
            ),
            selector: Keyword(
                [
                    KeywordPart {
                        keyword: "do:",
                        span: Span {
                            start: 343,
                            end: 346,
                        },
                    },
                ],
            ),
            arguments: [
                Block(
                    Block {
                        parameters: [],
                        body: [],
                        span: Span {
                            start: 347,
                            end: 349,
                        },
                    },
                ),
            ],
            is_cast: false,
            span: Span {
                start: 332,
                end: 349,
            },
        },
    ],
    span: Span {
        start: 175,
        end: 349,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 175,
                end: 180,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 175,
                end: 180,
            },
            kind: Line,
        },
        Comment {
            content: "// Test empty block edge case",
            span: Span {
                start: 175,
                end: 180,
            },
            kind: Line,
        },
        Comment {
            content: "// Blocks with no body or only whitespace",
            span: Span {
                start: 175,
                end: 180,
            },
            kind: Line,
        },
        Comment {
            content: "// Empty block - no expressions",
            span: Span {
                start: 175,
                end: 180,
            },
            kind: Line,
        },
    ],
}
