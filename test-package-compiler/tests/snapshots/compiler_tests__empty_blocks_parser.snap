---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    method_definitions: [],
    expressions: [
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Copyright 2026 James Casey",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "SPDX-License-Identifier: Apache-2.0",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Test empty block edge case",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                    Comment {
                        content: "Blocks with no body or only whitespace",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                        kind: Line,
                        preceding_blank_line: false,
                    },
                    Comment {
                        content: "Empty block - no expressions",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "empty",
                        span: Span {
                            start: 175,
                            end: 180,
                        },
                    },
                ),
                value: Block(
                    Block {
                        parameters: [],
                        body: [],
                        span: Span {
                            start: 184,
                            end: 186,
                        },
                    },
                ),
                span: Span {
                    start: 175,
                    end: 186,
                },
            },
            preceding_blank_line: false,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Empty block with single space",
                        span: Span {
                            start: 221,
                            end: 235,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "emptyWithSpace",
                        span: Span {
                            start: 221,
                            end: 235,
                        },
                    },
                ),
                value: Block(
                    Block {
                        parameters: [],
                        body: [],
                        span: Span {
                            start: 239,
                            end: 242,
                        },
                    },
                ),
                span: Span {
                    start: 221,
                    end: 242,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Empty block with newlines",
                        span: Span {
                            start: 273,
                            end: 290,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: Assignment {
                target: Identifier(
                    Identifier {
                        name: "emptyWithNewlines",
                        span: Span {
                            start: 273,
                            end: 290,
                        },
                    },
                ),
                value: Block(
                    Block {
                        parameters: [],
                        body: [],
                        span: Span {
                            start: 294,
                            end: 298,
                        },
                    },
                ),
                span: Span {
                    start: 273,
                    end: 298,
                },
            },
            preceding_blank_line: true,
        },
        ExpressionStatement {
            comments: CommentAttachment {
                leading: [
                    Comment {
                        content: "Empty block used as argument",
                        span: Span {
                            start: 332,
                            end: 342,
                        },
                        kind: Line,
                        preceding_blank_line: true,
                    },
                ],
                trailing: None,
            },
            expression: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "collection",
                        span: Span {
                            start: 332,
                            end: 342,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "do:",
                            span: Span {
                                start: 343,
                                end: 346,
                            },
                        },
                    ],
                ),
                arguments: [
                    Block(
                        Block {
                            parameters: [],
                            body: [],
                            span: Span {
                                start: 347,
                                end: 349,
                            },
                        },
                    ),
                ],
                is_cast: false,
                span: Span {
                    start: 332,
                    end: 349,
                },
            },
            preceding_blank_line: true,
        },
    ],
    span: Span {
        start: 175,
        end: 349,
    },
    file_leading_comments: [],
    file_trailing_comments: [],
}
