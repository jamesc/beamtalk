---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
AST:
Module {
    classes: [],
    expressions: [
        Assignment {
            target: Identifier(
                Identifier {
                    name: "greeting",
                    span: Span {
                        start: 116,
                        end: 124,
                    },
                },
            ),
            value: Literal(
                String(
                    "Hello",
                ),
                Span {
                    start: 128,
                    end: 135,
                },
            ),
            span: Span {
                start: 116,
                end: 135,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "name",
                    span: Span {
                        start: 136,
                        end: 140,
                    },
                },
            ),
            value: Literal(
                String(
                    "World",
                ),
                Span {
                    start: 144,
                    end: 151,
                },
            ),
            span: Span {
                start: 136,
                end: 151,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "message",
                    span: Span {
                        start: 170,
                        end: 177,
                    },
                },
            ),
            value: MessageSend {
                receiver: MessageSend {
                    receiver: MessageSend {
                        receiver: Identifier(
                            Identifier {
                                name: "greeting",
                                span: Span {
                                    start: 181,
                                    end: 189,
                                },
                            },
                        ),
                        selector: Binary(
                            "++",
                        ),
                        arguments: [
                            Literal(
                                String(
                                    ", ",
                                ),
                                Span {
                                    start: 193,
                                    end: 197,
                                },
                            ),
                        ],
                        span: Span {
                            start: 181,
                            end: 197,
                        },
                    },
                    selector: Binary(
                        "++",
                    ),
                    arguments: [
                        Identifier(
                            Identifier {
                                name: "name",
                                span: Span {
                                    start: 201,
                                    end: 205,
                                },
                            },
                        ),
                    ],
                    span: Span {
                        start: 181,
                        end: 205,
                    },
                },
                selector: Binary(
                    "++",
                ),
                arguments: [
                    Literal(
                        String(
                            "!",
                        ),
                        Span {
                            start: 209,
                            end: 212,
                        },
                    ),
                ],
                span: Span {
                    start: 181,
                    end: 212,
                },
            },
            span: Span {
                start: 170,
                end: 212,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "len",
                    span: Span {
                        start: 231,
                        end: 234,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "greeting",
                        span: Span {
                            start: 238,
                            end: 246,
                        },
                    },
                ),
                selector: Unary(
                    "length",
                ),
                arguments: [],
                span: Span {
                    start: 238,
                    end: 253,
                },
            },
            span: Span {
                start: 231,
                end: 253,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEqual",
                    span: Span {
                        start: 276,
                        end: 283,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "hello",
                    ),
                    Span {
                        start: 287,
                        end: 294,
                    },
                ),
                selector: Binary(
                    "=",
                ),
                arguments: [
                    Literal(
                        String(
                            "hello",
                        ),
                        Span {
                            start: 297,
                            end: 304,
                        },
                    ),
                ],
                span: Span {
                    start: 287,
                    end: 304,
                },
            },
            span: Span {
                start: 276,
                end: 304,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isLess",
                    span: Span {
                        start: 305,
                        end: 311,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "apple",
                    ),
                    Span {
                        start: 315,
                        end: 322,
                    },
                ),
                selector: Binary(
                    "<",
                ),
                arguments: [
                    Literal(
                        String(
                            "banana",
                        ),
                        Span {
                            start: 325,
                            end: 333,
                        },
                    ),
                ],
                span: Span {
                    start: 315,
                    end: 333,
                },
            },
            span: Span {
                start: 305,
                end: 333,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "upper",
                    span: Span {
                        start: 360,
                        end: 365,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "greeting",
                        span: Span {
                            start: 369,
                            end: 377,
                        },
                    },
                ),
                selector: Unary(
                    "uppercase",
                ),
                arguments: [],
                span: Span {
                    start: 369,
                    end: 387,
                },
            },
            span: Span {
                start: 360,
                end: 387,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "lower",
                    span: Span {
                        start: 388,
                        end: 393,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "upper",
                        span: Span {
                            start: 397,
                            end: 402,
                        },
                    },
                ),
                selector: Unary(
                    "lowercase",
                ),
                arguments: [],
                span: Span {
                    start: 397,
                    end: 412,
                },
            },
            span: Span {
                start: 388,
                end: 412,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "isEmpty",
                    span: Span {
                        start: 432,
                        end: 439,
                    },
                },
            ),
            value: MessageSend {
                receiver: Literal(
                    String(
                        "",
                    ),
                    Span {
                        start: 443,
                        end: 445,
                    },
                ),
                selector: Unary(
                    "isEmpty",
                ),
                arguments: [],
                span: Span {
                    start: 443,
                    end: 453,
                },
            },
            span: Span {
                start: 432,
                end: 453,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "hasContent",
                    span: Span {
                        start: 454,
                        end: 464,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 468,
                            end: 475,
                        },
                    },
                ),
                selector: Unary(
                    "isNotEmpty",
                ),
                arguments: [],
                span: Span {
                    start: 468,
                    end: 486,
                },
            },
            span: Span {
                start: 454,
                end: 486,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "found",
                    span: Span {
                        start: 508,
                        end: 513,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 517,
                            end: 524,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "includes:",
                            span: Span {
                                start: 525,
                                end: 534,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "World",
                        ),
                        Span {
                            start: 535,
                            end: 542,
                        },
                    ),
                ],
                span: Span {
                    start: 517,
                    end: 542,
                },
            },
            span: Span {
                start: 508,
                end: 542,
            },
        },
        Assignment {
            target: Identifier(
                Identifier {
                    name: "starts",
                    span: Span {
                        start: 543,
                        end: 549,
                    },
                },
            ),
            value: MessageSend {
                receiver: Identifier(
                    Identifier {
                        name: "message",
                        span: Span {
                            start: 553,
                            end: 560,
                        },
                    },
                ),
                selector: Keyword(
                    [
                        KeywordPart {
                            keyword: "startsWith:",
                            span: Span {
                                start: 561,
                                end: 572,
                            },
                        },
                    ],
                ),
                arguments: [
                    Literal(
                        String(
                            "Hello",
                        ),
                        Span {
                            start: 573,
                            end: 580,
                        },
                    ),
                ],
                span: Span {
                    start: 553,
                    end: 580,
                },
            },
            span: Span {
                start: 543,
                end: 580,
            },
        },
    ],
    span: Span {
        start: 116,
        end: 580,
    },
    leading_comments: [
        Comment {
            content: "// Copyright 2026 James Casey",
            span: Span {
                start: 116,
                end: 124,
            },
            kind: Line,
        },
        Comment {
            content: "// SPDX-License-Identifier: Apache-2.0",
            span: Span {
                start: 116,
                end: 124,
            },
            kind: Line,
        },
        Comment {
            content: "// Test string operations",
            span: Span {
                start: 116,
                end: 124,
            },
            kind: Line,
        },
        Comment {
            content: "// String literals",
            span: Span {
                start: 116,
                end: 124,
            },
            kind: Line,
        },
    ],
}
