---
source: test-package-compiler/tests/compiler_tests.rs
expression: output
---
Token { kind: Identifier("sum"), span: Span { start: 133, end: 136 }, leading_trivia: [LineComment("// Copyright 2026 James Casey"), Whitespace("\n"), LineComment("// SPDX-License-Identifier: Apache-2.0"), Whitespace("\n\n"), LineComment("// Test integer arithmetic and operations"), Whitespace("\n\n"), LineComment("// Basic arithmetic"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 137, end: 139 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 140, end: 141 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 142, end: 143 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("3"), span: Span { start: 144, end: 145 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("difference"), span: Span { start: 146, end: 156 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 157, end: 159 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 160, end: 162 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("-"), span: Span { start: 163, end: 164 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("4"), span: Span { start: 165, end: 166 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("product"), span: Span { start: 167, end: 174 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 175, end: 177 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("6"), span: Span { start: 178, end: 179 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("*"), span: Span { start: 180, end: 181 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("7"), span: Span { start: 182, end: 183 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("quotient"), span: Span { start: 184, end: 192 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 193, end: 195 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("20"), span: Span { start: 196, end: 198 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("/"), span: Span { start: 199, end: 200 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("4"), span: Span { start: 201, end: 202 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("intDiv"), span: Span { start: 235, end: 241 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Integer division and modulo"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 242, end: 244 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("17"), span: Span { start: 245, end: 247 }, leading_trivia: [], trailing_trivia: [Whitespace(" "), LineComment("// 5")] }
Token { kind: Identifier("remainder"), span: Span { start: 253, end: 262 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 263, end: 265 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("17"), span: Span { start: 266, end: 268 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("%"), span: Span { start: 269, end: 270 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 271, end: 272 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isLess"), span: Span { start: 288, end: 294 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Comparison"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 295, end: 297 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("3"), span: Span { start: 298, end: 299 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("<"), span: Span { start: 300, end: 301 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 302, end: 303 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isGreater"), span: Span { start: 304, end: 313 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 314, end: 316 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 317, end: 319 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector(">"), span: Span { start: 320, end: 321 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("5"), span: Span { start: 322, end: 323 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isEqual"), span: Span { start: 324, end: 331 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 332, end: 334 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("7"), span: Span { start: 335, end: 336 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("="), span: Span { start: 337, end: 338 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("7"), span: Span { start: 339, end: 340 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 370, end: 377 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Iteration - times repeat"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 378, end: 380 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 381, end: 382 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("5"), span: Span { start: 383, end: 384 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("timesRepeat:"), span: Span { start: 385, end: 397 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 398, end: 399 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("counter"), span: Span { start: 399, end: 406 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 407, end: 409 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("counter"), span: Span { start: 410, end: 417 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 418, end: 419 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 420, end: 421 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 421, end: 422 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("sum"), span: Span { start: 443, end: 446 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Range iteration"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 447, end: 449 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 450, end: 451 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("1"), span: Span { start: 452, end: 453 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("to:"), span: Span { start: 454, end: 457 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 458, end: 460 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("do:"), span: Span { start: 461, end: 464 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 465, end: 466 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 466, end: 467 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("n"), span: Span { start: 467, end: 468 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 469, end: 470 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("sum"), span: Span { start: 471, end: 474 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 475, end: 477 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("sum"), span: Span { start: 478, end: 481 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 482, end: 483 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("n"), span: Span { start: 484, end: 485 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 485, end: 486 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isEven"), span: Span { start: 504, end: 510 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Number tests"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 511, end: 513 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("4"), span: Span { start: 514, end: 515 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isEven"), span: Span { start: 516, end: 522 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isOdd"), span: Span { start: 523, end: 528 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 529, end: 531 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("7"), span: Span { start: 532, end: 533 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isOdd"), span: Span { start: 534, end: 539 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("isZero"), span: Span { start: 540, end: 546 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 547, end: 549 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 550, end: 551 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("isZero"), span: Span { start: 552, end: 558 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("oddSum"), span: Span { start: 615, end: 621 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Custom step iteration - positive step (odd numbers)"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 622, end: 624 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 625, end: 626 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("1"), span: Span { start: 627, end: 628 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("to:"), span: Span { start: 629, end: 632 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("10"), span: Span { start: 633, end: 635 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("by:"), span: Span { start: 636, end: 639 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("2"), span: Span { start: 640, end: 641 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("do:"), span: Span { start: 642, end: 645 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 646, end: 647 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 647, end: 648 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("n"), span: Span { start: 648, end: 649 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 650, end: 651 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("oddSum"), span: Span { start: 652, end: 658 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 659, end: 661 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("oddSum"), span: Span { start: 662, end: 668 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 669, end: 670 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("n"), span: Span { start: 671, end: 672 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 672, end: 673 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("countdown"), span: Span { start: 728, end: 737 }, leading_trivia: [Whitespace("\n\n"), LineComment("// Custom step iteration - negative step (countdown)"), Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 738, end: 740 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("0"), span: Span { start: 741, end: 742 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Integer("10"), span: Span { start: 743, end: 745 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("to:"), span: Span { start: 746, end: 749 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 750, end: 751 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("by:"), span: Span { start: 752, end: 755 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("-1"), span: Span { start: 756, end: 758 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Keyword("do:"), span: Span { start: 759, end: 762 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: LeftBracket, span: Span { start: 763, end: 764 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Colon, span: Span { start: 764, end: 765 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Identifier("n"), span: Span { start: 765, end: 766 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Pipe, span: Span { start: 767, end: 768 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("countdown"), span: Span { start: 769, end: 778 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Assign, span: Span { start: 779, end: 781 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Identifier("countdown"), span: Span { start: 782, end: 791 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: BinarySelector("+"), span: Span { start: 792, end: 793 }, leading_trivia: [], trailing_trivia: [Whitespace(" ")] }
Token { kind: Integer("1"), span: Span { start: 794, end: 795 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: RightBracket, span: Span { start: 795, end: 796 }, leading_trivia: [], trailing_trivia: [] }
Token { kind: Eof, span: Span { start: 797, end: 797 }, leading_trivia: [Whitespace("\n")], trailing_trivia: [] }
