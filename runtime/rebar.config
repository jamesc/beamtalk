{erl_opts, [debug_info]}.

{deps, [
    {jsx, "~> 3.0"}
]}.

{profiles, [
    {test, [
        {erl_opts, [debug_info]}
    ]}
]}.

%% Compile test fixtures before running tests
{pre_hooks, [
    {eunit, "bash -c './test_fixtures/compile.sh'"}
]}.

{eunit_opts, [verbose]}.

{cover_enabled, true}.
{cover_opts, [verbose]}.

{plugins, [
    covertool
]}.

%% Dialyzer configuration
%% Focus on real errors, not overly-strict specs
{dialyzer, [
    {warnings, [
        error_handling     % Warn about unhandled errors
        % Disabled for now (too noisy, not bugs):
        % underspecs       % Spec is supertype of inferred type
        % unmatched_returns % Expression value is unused
    ]},
    {plt_extra_apps, [jsx]}
]}.
