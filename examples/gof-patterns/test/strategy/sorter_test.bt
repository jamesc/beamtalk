// Copyright 2026 gang_of_four authors
// SPDX-License-Identifier: Apache-2.0

// Tests for Strategy Pattern â€” Sorter

TestCase subclass: SorterTest

  testAscendingSort =>
    asc := Sorter ascending
    self assert: (asc sort: #(3, 1, 2)) equals: #(1, 2, 3)

  testDescendingSort =>
    desc := Sorter descending
    self assert: (desc sort: #(3, 1, 2)) equals: #(3, 2, 1)

  testCustomStrategy =>
    byLen := Sorter withStrategy: [:a :b | a length < b length]
    result := byLen sort: #("banana", "fig", "apple")
    self assert: result first equals: "fig"

  testAlreadySorted =>
    asc := Sorter ascending
    self assert: (asc sort: #(1, 2, 3)) equals: #(1, 2, 3)

  testSingleElement =>
    asc := Sorter ascending
    self assert: (asc sort: #(42)) equals: #(42)

  testEmptyList =>
    asc := Sorter ascending
    self assert: (asc sort: #()) equals: #()

  testStrategiesAreInterchangeable =>
    nums := #(5, 2, 8, 1)
    self assert: ((Sorter ascending)  sort: nums) equals: #(1, 2, 5, 8)
    self assert: ((Sorter descending) sort: nums) equals: #(8, 5, 2, 1)
