// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for field mutations in control flow (BT-98)
// Currently tests do: with mutations - other control flow pending

// Test 1: do: with field mutation - accumulate sum
counter := FieldMutationCounter spawn.
counter setValue: 0.
counter sumArray: [1, 2, 3, 4, 5].
result := counter getValue.
result == 15  // Expected: 15 (1+2+3+4+5)

// Test 2: inject:into: pure functional
counter2 := FieldMutationCounter spawn.
result2 := counter2 sumWithInject: [10, 20, 30].
result2 == 60  // Expected: 60
