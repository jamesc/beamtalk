// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for REPL power-user commands (BT-529, BT-785).
//
// These tests require E2E because :inspect and :kill are REPL commands
// processed by the REPL session handler. BUnit tests execute compiled
// Beamtalk code and cannot invoke REPL commands. The :inspect command also
// introspects live actor state in the running REPL process.
//
// Tests :inspect command.
// removeFromSystem and :unload deprecation are tested in remove_from_system.bt.
//
// NOTE: :kill is tested separately in zz_repl_kill.bt because
// killing an actor terminates the REPL session (known issue).

// @load tests/e2e/fixtures/counter.bt

// ===========================================================================
// :inspect — INSPECT ACTOR STATE
// ===========================================================================

// Spawn a counter and inspect its state
c := Counter spawn
// => #Actor<Counter,_>

// Inspect the Counter actor state — should show the value field
:inspect Counter
// => a Counter (value: _)

// Increment and inspect again to verify state is accessible
c increment
// => 1

:inspect Counter
// => a Counter (value: _)
