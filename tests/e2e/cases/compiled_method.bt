// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for >> operator on class variables (BT-323)
//
// Tests method lookup via >> when the receiver is not a class literal:
// - Class stored in variable via Beamtalk classNamed:
// - >> on variable returning CompiledMethod

// @load tests/e2e/fixtures/counter.bt

// ===========================================================================
// METHOD LOOKUP ON CLASS VARIABLE (Beamtalk classNamed:)
// ===========================================================================

cls := (Beamtalk classNamed: #Counter) await
// => Counter

cls >> #getValue
// => a CompiledMethod(_)

(cls >> #getValue) selector
// => getValue

(cls >> #getValue) class
// => CompiledMethod

cls >> #nonExistent
// => nil
