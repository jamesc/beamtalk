// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for Array collection methods (BT-408)

// ===========================================================================
// COLLECT: (map)
// ===========================================================================

// collect: doubles each element
#(1, 2, 3) collect: [:x | x * 2]
// => [2,4,6]

// collect: on empty list
#() collect: [:x | x * 2]
// => _

// ===========================================================================
// SELECT: (filter)
// ===========================================================================

// select: elements greater than 2
#(1, 2, 3, 4, 5) select: [:x | x > 2]
// => [3,4,5]

// select: even numbers
#(1, 2, 3, 4, 5, 6) select: [:x | x isEven]
// => [2,4,6]

// select: no matches
#(1, 2, 3) select: [:x | x > 10]
// => _

// ===========================================================================
// REJECT: (inverse filter)
// ===========================================================================

// reject: elements greater than 2
#(1, 2, 3, 4, 5) reject: [:x | x > 2]
// => [1,2]

// reject: even numbers
#(1, 2, 3, 4, 5, 6) reject: [:x | x isEven]
// => [1,3,5]

// ===========================================================================
// INJECT:INTO: (fold/reduce)
// ===========================================================================

// inject:into: sum
#(1, 2, 3, 4, 5) inject: 0 into: [:sum :x | sum + x]
// => 15

// inject:into: product
#(1, 2, 3, 4) inject: 1 into: [:product :x | product * x]
// => 24

// inject:into: on single element
#(42) inject: 0 into: [:acc :x | acc + x]
// => 42

// ===========================================================================
// DO: (iteration)
// ===========================================================================

// do: returns ok (side-effect only)
#(1, 2, 3) do: [:x | x + 1]
// => ok
