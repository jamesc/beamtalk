// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// BT-413: Test fixture for value type with class variables
Object subclass: ClassVarPoint
  classVar: instanceCount = 0
  state: x = 0
  state: y = 0

  class create: coords =>
    self.instanceCount := self.instanceCount + 1
    self new: coords

  class getCount =>
    self.instanceCount

  // BT-413: Direct class var accessor for instance-side access
  class instanceCount => self.instanceCount

  x => self.x
  y => self.y

  // BT-413: Instance method accessing class variable via self class
  totalPoints => self class instanceCount
