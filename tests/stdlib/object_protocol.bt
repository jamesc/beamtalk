// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for Object protocol: printString, yourself, hash
//
// BT-275: These methods are part of the fundamental Object protocol
// that every object should understand.

// ===========================================================================
// printString — string representation of any object
// ===========================================================================

// --- Integers ---
42 printString
// => 42

0 printString
// => 0

-7 printString
// => -7

// --- Strings ---
"hello" printString
// => hello

"" printString
// => 

// --- Booleans ---
true printString
// => true

false printString
// => false

// --- Nil ---
nil printString
// => nil

// --- Floats ---
3.14 printString
// => 3.14

-2.5 printString
// => -2.5

// --- Lists ---
#(1, 2, 3) printString
// => #(1, 2, 3)

#() printString
// => #()

// --- Blocks ---
[42] printString
// => a Block

// --- Dictionaries ---
#{} printString
// => #{}

// --- Class objects (BT-477: class_send printString) ---
42 class printString
// => Integer

"hello" class printString
// => String

true class printString
// => True

nil class printString
// => UndefinedObject

// ===========================================================================
// yourself — identity method (returns receiver)
// ===========================================================================

42 yourself
// => 42

"hello" yourself
// => hello

true yourself
// => true

nil yourself
// => nil

// yourself should return the same object
42 yourself =:= 42
// => true

"test" yourself =:= "test"
// => true

// ===========================================================================
// hash — hash value (integer)
// ===========================================================================

// hash returns an integer (non-deterministic, keep wildcard)
42 hash
// => _

// Same value should produce same hash
42 hash =:= 42 hash
// => true

"hello" hash =:= "hello" hash
// => true

// Different values typically produce different hashes (not guaranteed, but
// verifying hash returns a usable integer for all types)
// Hash values are non-deterministic, keep wildcard
"hello" hash
// => _

// ===========================================================================
// respondsTo: — method existence check (BT-623)
// ===========================================================================

// Integers respond to +
42 respondsTo: #+
// => true

// Integers respond to class (inherited from Object)
42 respondsTo: #class
// => true

// Integers do not respond to nonsense
42 respondsTo: #totallyFakeMethod
// => false

// Strings respond to size
"hello" respondsTo: #size
// => true

// Strings do not respond to nonsense
"hello" respondsTo: #totallyFakeMethod
// => false

// nil responds to isNil
nil respondsTo: #isNil
// => true

// Booleans respond to ifTrue:ifFalse:
true respondsTo: #'ifTrue:ifFalse:'
// => true
