// Copyright 2026 James Casey
// SPDX-License-Identifier: Apache-2.0

// E2E tests for Association class (BT-335)
// Association is a key-value pair created with the -> binary message.

// ===========================================================================
// CREATION: -> binary message
// ===========================================================================

// Symbol key with String value
#name -> 'James'
// => _

// Integer key with Integer value
42 -> 'answer'
// => _

// String key
'city' -> 'London'
// => _

// ===========================================================================
// ACCESSORS: key and value
// ===========================================================================

a := #name -> 'James'
// => _

a key
// => name

a value
// => James

b := 1 -> 2
// => _

b key
// => 1

b value
// => 2

// ===========================================================================
// DISPLAY: asString / printString
// ===========================================================================

(#name -> 'James') asString
// => #name -> James

(42 -> 'answer') asString
// => 42 -> answer

('count' -> 5) asString
// => count -> 5

// printString delegates to asString (Association.bt)
(#name -> 'James') printString
// => #name -> James

// ===========================================================================
// REFLECTION
// ===========================================================================

(#name -> 'James') class
// => Association

(#name -> 'James') respondsTo: #key
// => true

(#name -> 'James') respondsTo: #value
// => true

// ===========================================================================
// USAGE IN COLLECTIONS
// ===========================================================================

assocs := #(#a -> 1, #b -> 2, #c -> 3)
// => _

assocs size
// => 3

assocs collect: [:assoc | assoc key]
// => ["a","b","c"]

assocs collect: [:assoc | assoc value]
// => [1,2,3]
